var BookingWidget=function(){"use strict";var Hh=ce=>{throw TypeError(ce)};var iu=(ce,me,ge)=>me.has(ce)||Hh("Cannot "+ge);var p=(ce,me,ge)=>(iu(ce,me,"read from private field"),ge?ge.call(ce):me.get(ce)),B=(ce,me,ge)=>me.has(ce)?Hh("Cannot add the same private member more than once"):me instanceof WeakSet?me.add(ce):me.set(ce,ge),_=(ce,me,ge,Cr)=>(iu(ce,me,"write to private field"),Cr?Cr.call(ce,ge):me.set(ce,ge),ge),H=(ce,me,ge)=>(iu(ce,me,"access private method"),ge);var vl=(ce,me,ge,Cr)=>({set _(q){_(ce,me,q,ge)},get _(){return p(ce,me,Cr)}});var gr,su,Ah,Vr,yr,In,Fh,Ln,xr,zn,_h,Yr,Ih,Kr,Bn,ot,Gr,ke,Hs,Xr,yt,qt,Lh,He,K,qs,Ie,Jr,$n,$t,vr,Vs,Un,Qn,Zr,en,wr,Wn,X,Xs,lu,au,ou,uu,cu,du,fu,qh,zh,Ys,Et,Le,tn,Pt,Sr,Bh,Ut,xt,Ks,$h,Qt,Nr,qe,Wt,Ht,wl,hu,Uh,Tt,Qh,fe,jr,kr,Hn,qn,br,Vn,Yn,Wh;function ce(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var me={exports:{}},ge={},Cr={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=Symbol.for("react.element"),Vh=Symbol.for("react.portal"),Yh=Symbol.for("react.fragment"),Kh=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),Jh=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.memo"),rm=Symbol.for("react.lazy"),mu=Symbol.iterator;function nm(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}var pu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gu=Object.assign,yu={};function rn(e,t,r){this.props=e,this.context=t,this.refs=yu,this.updater=r||pu}rn.prototype.isReactComponent={},rn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},rn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xu(){}xu.prototype=rn.prototype;function Nl(e,t,r){this.props=e,this.context=t,this.refs=yu,this.updater=r||pu}var jl=Nl.prototype=new xu;jl.constructor=Nl,gu(jl,rn.prototype),jl.isPureReactComponent=!0;var vu=Array.isArray,wu=Object.prototype.hasOwnProperty,kl={current:null},Nu={key:!0,ref:!0,__self:!0,__source:!0};function ju(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)wu.call(t,n)&&!Nu.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Kn,type:e,key:i,ref:a,props:s,_owner:kl.current}}function sm(e,t){return{$$typeof:Kn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kn}function im(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ku=/\/+/g;function Sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?im(""+e.key):t.toString(36)}function Js(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Kn:case Vh:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Sl(a,0):n,vu(s)?(r="",e!=null&&(r=e.replace(ku,"$&/")+"/"),Js(s,t,r,"",function(c){return c})):s!=null&&(bl(s)&&(s=sm(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ku,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",vu(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+Sl(i,o);a+=Js(i,t,r,u,s)}else if(u=nm(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+Sl(i,o++),a+=Js(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zs(e,t,r){if(e==null)return e;var n=[],s=0;return Js(e,n,"","",function(i){return t.call(r,i,s++)}),n}function lm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},ei={transition:null},am={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ei,ReactCurrentOwner:kl};function bu(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Zs,forEach:function(e,t,r){Zs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zs(e,function(){t++}),t},toArray:function(e){return Zs(e,function(t){return t})||[]},only:function(e){if(!bl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},q.Component=rn,q.Fragment=Yh,q.Profiler=Gh,q.PureComponent=Nl,q.StrictMode=Kh,q.Suspense=em,q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=am,q.act=bu,q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gu({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=kl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)wu.call(t,u)&&!Nu.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Kn,type:e.type,key:s,ref:i,props:n,_owner:a}},q.createContext=function(e){return e={$$typeof:Jh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xh,_context:e},e.Consumer=e},q.createElement=ju,q.createFactory=function(e){var t=ju.bind(null,e);return t.type=e,t},q.createRef=function(){return{current:null}},q.forwardRef=function(e){return{$$typeof:Zh,render:e}},q.isValidElement=bl,q.lazy=function(e){return{$$typeof:rm,_payload:{_status:-1,_result:e},_init:lm}},q.memo=function(e,t){return{$$typeof:tm,type:e,compare:t===void 0?null:t}},q.startTransition=function(e){var t=ei.transition;ei.transition={};try{e()}finally{ei.transition=t}},q.unstable_act=bu,q.useCallback=function(e,t){return De.current.useCallback(e,t)},q.useContext=function(e){return De.current.useContext(e)},q.useDebugValue=function(){},q.useDeferredValue=function(e){return De.current.useDeferredValue(e)},q.useEffect=function(e,t){return De.current.useEffect(e,t)},q.useId=function(){return De.current.useId()},q.useImperativeHandle=function(e,t,r){return De.current.useImperativeHandle(e,t,r)},q.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)},q.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)},q.useMemo=function(e,t){return De.current.useMemo(e,t)},q.useReducer=function(e,t,r){return De.current.useReducer(e,t,r)},q.useRef=function(e){return De.current.useRef(e)},q.useState=function(e){return De.current.useState(e)},q.useSyncExternalStore=function(e,t,r){return De.current.useSyncExternalStore(e,t,r)},q.useTransition=function(){return De.current.useTransition()},q.version="18.3.1",Cr.exports=q;var E=Cr.exports;const Cl=ce(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=E,um=Symbol.for("react.element"),cm=Symbol.for("react.fragment"),dm=Object.prototype.hasOwnProperty,fm=om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hm={key:!0,ref:!0,__self:!0,__source:!0};function Su(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)dm.call(t,n)&&!hm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:um,type:e,key:i,ref:a,props:s,_owner:fm.current}}ge.Fragment=cm,ge.jsx=Su,ge.jsxs=Su,me.exports=ge;var l=me.exports,Cu={exports:{}},Ve={},Eu={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var T=A.length;A.push(L);e:for(;0<T;){var $=T-1>>>1,ee=A[$];if(0<s(ee,L))A[$]=L,A[T]=ee,T=$;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var L=A[0],T=A.pop();if(T!==L){A[0]=T;e:for(var $=0,ee=A.length,vt=ee>>>1;$<vt;){var Oe=2*($+1)-1,wt=A[Oe],ue=Oe+1,Nt=A[ue];if(0>s(wt,T))ue<ee&&0>s(Nt,wt)?(A[$]=Nt,A[ue]=T,$=ue):(A[$]=wt,A[Oe]=T,$=Oe);else if(ue<ee&&0>s(Nt,T))A[$]=Nt,A[ue]=T,$=ue;else break e}}return L}function s(A,L){var T=A.sortIndex-L.sortIndex;return T!==0?T:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],g=1,h=null,y=3,w=!1,j=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(A){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=A)n(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=r(c)}}function x(A){if(v=!1,f(A),!j)if(r(u)!==null)j=!0,W(S);else{var L=r(c);L!==null&&we(x,L.startTime-A)}}function S(A,L){j=!1,v&&(v=!1,m(M),M=-1),w=!0;var T=y;try{for(f(L),h=r(u);h!==null&&(!(h.expirationTime>L)||A&&!P());){var $=h.callback;if(typeof $=="function"){h.callback=null,y=h.priorityLevel;var ee=$(h.expirationTime<=L);L=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(u)&&n(u),f(L)}else n(u);h=r(u)}if(h!==null)var vt=!0;else{var Oe=r(c);Oe!==null&&we(x,Oe.startTime-L),vt=!1}return vt}finally{h=null,y=T,w=!1}}var k=!1,O=null,M=-1,U=5,N=-1;function P(){return!(e.unstable_now()-N<U)}function C(){if(O!==null){var A=e.unstable_now();N=A;var L=!0;try{L=O(!0,A)}finally{L?R():(k=!1,O=null)}}else k=!1}var R;if(typeof d=="function")R=function(){d(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Q=F.port2;F.port1.onmessage=C,R=function(){Q.postMessage(null)}}else R=function(){b(C,0)};function W(A){O=A,k||(k=!0,R())}function we(A,L){M=b(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||w||(j=!0,W(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(A){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var T=y;y=L;try{return A()}finally{y=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var T=y;y=A;try{return L()}finally{y=T}},e.unstable_scheduleCallback=function(A,L,T){var $=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?$+T:$):T=$,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=T+ee,A={id:g++,callback:L,priorityLevel:A,startTime:T,expirationTime:ee,sortIndex:-1},T>$?(A.sortIndex=T,t(c,A),r(u)===null&&A===r(c)&&(v?(m(M),M=-1):v=!0,we(x,T-$))):(A.sortIndex=ee,t(u,A),j||w||(j=!0,W(S))),A},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(A){var L=y;return function(){var T=y;y=L;try{return A.apply(this,arguments)}finally{y=T}}}})(Pu),Eu.exports=Pu;var mm=Eu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=E,Ye=mm;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tu=new Set,Gn={};function Er(e,t){nn(e,t),nn(e+"Capture",t)}function nn(e,t){for(Gn[e]=t,e=0;e<t.length;e++)Tu.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,gm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mu={},Ou={};function ym(e){return El.call(Ou,e)?!0:El.call(Mu,e)?!1:gm.test(e)?Ou[e]=!0:(Mu[e]=!0,!1)}function xm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vm(e,t,r,n){if(t===null||typeof t>"u"||xm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Re(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Re(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Re(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Re(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){be[e]=new Re(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){be[e]=new Re(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){be[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pl=/[\-:]([a-z])/g;function Tl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pl,Tl);be[t]=new Re(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pl,Tl);be[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pl,Tl);be[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)}),be.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){be[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ml(e,t,r,n){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vm(t,r,s,n)&&(r=null),n||s===null?ym(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ot=pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),sn=Symbol.for("react.portal"),ln=Symbol.for("react.fragment"),Ol=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),Du=Symbol.for("react.provider"),Ru=Symbol.for("react.context"),Rl=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),_l=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Au=Symbol.for("react.offscreen"),Fu=Symbol.iterator;function Xn(e){return e===null||typeof e!="object"?null:(e=Fu&&e[Fu]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Il;function Jn(e){if(Il===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Il=t&&t[1]||""}return`
`+Il+e}var Ll=!1;function zl(e,t){if(!e||Ll)return"";Ll=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{Ll=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jn(e):""}function wm(e){switch(e.tag){case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function Bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ln:return"Fragment";case sn:return"Portal";case Dl:return"Profiler";case Ol:return"StrictMode";case Al:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ru:return(e.displayName||"Context")+".Consumer";case Du:return(e._context.displayName||"Context")+".Provider";case Rl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _l:return t=e.displayName||null,t!==null?t:Bl(e.type)||"Memo";case Vt:t=e._payload,e=e._init;try{return Bl(e(t))}catch{}}return null}function Nm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bl(t);case 8:return t===Ol?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jm(e){var t=_u(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ri(e){e._valueTracker||(e._valueTracker=jm(e))}function Iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_u(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $l(e,t){var r=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Lu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zu(e,t){t=t.checked,t!=null&&Ml(e,"checked",t,!1)}function Ul(e,t){zu(e,t);var r=Yt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ql(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ql(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ql(e,t,r){(t!=="number"||ni(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zn=Array.isArray;function an(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $u(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(Zn(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yt(r)}}function Uu(e,t){var r=Yt(t.value),n=Yt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var si,Hu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function es(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},km=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(e){km.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ts[t]=ts[e]})});function qu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ts.hasOwnProperty(e)&&ts[e]?(""+t).trim():t+"px"}function Vu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=qu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var bm=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,t){if(t){if(bm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yl=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gl=null,on=null,un=null;function Yu(e){if(e=ks(e)){if(typeof Gl!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ei(t),Gl(e.stateNode,e.type,t))}}function Ku(e){on?un?un.push(e):un=[e]:on=e}function Gu(){if(on){var e=on,t=un;if(un=on=null,Yu(e),t)for(e=0;e<t.length;e++)Yu(t[e])}}function Xu(e,t){return e(t)}function Ju(){}var Xl=!1;function Zu(e,t,r){if(Xl)return e(t,r);Xl=!0;try{return Xu(e,t,r)}finally{Xl=!1,(on!==null||un!==null)&&(Ju(),Gu())}}function rs(e,t){var r=e.stateNode;if(r===null)return null;var n=Ei(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var Jl=!1;if(Mt)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Jl=!1}function Sm(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(g){this.onError(g)}}var ss=!1,ii=null,li=!1,Zl=null,Cm={onError:function(e){ss=!0,ii=e}};function Em(e,t,r,n,s,i,a,o,u){ss=!1,ii=null,Sm.apply(Cm,arguments)}function Pm(e,t,r,n,s,i,a,o,u){if(Em.apply(this,arguments),ss){if(ss){var c=ii;ss=!1,ii=null}else throw Error(D(198));li||(li=!0,Zl=c)}}function Pr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ec(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(Pr(e)!==e)throw Error(D(188))}function Tm(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return tc(s),e;if(i===n)return tc(s),t;i=i.sibling}throw Error(D(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function rc(e){return e=Tm(e),e!==null?nc(e):null}function nc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nc(e);if(t!==null)return t;e=e.sibling}return null}var sc=Ye.unstable_scheduleCallback,ic=Ye.unstable_cancelCallback,Mm=Ye.unstable_shouldYield,Om=Ye.unstable_requestPaint,he=Ye.unstable_now,Dm=Ye.unstable_getCurrentPriorityLevel,ea=Ye.unstable_ImmediatePriority,lc=Ye.unstable_UserBlockingPriority,ai=Ye.unstable_NormalPriority,Rm=Ye.unstable_LowPriority,ac=Ye.unstable_IdlePriority,oi=null,jt=null;function Am(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(oi,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Im,Fm=Math.log,_m=Math.LN2;function Im(e){return e>>>=0,e===0?32:31-(Fm(e)/_m|0)|0}var ui=64,ci=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function di(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=is(o):(i&=a,i!==0&&(n=is(i)))}else a=r&~s,a!==0?n=is(a):i!==0&&(n=is(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ut(t),s=1<<r,n|=e[r],t&=~s;return n}function Lm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ut(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Lm(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oc(){var e=ui;return ui<<=1,!(ui&4194240)&&(ui=64),e}function ra(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ls(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=r}function Bm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ut(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function na(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ut(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function uc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cc,sa,dc,fc,hc,ia=!1,fi=[],Kt=null,Gt=null,Xt=null,as=new Map,os=new Map,Jt=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mc(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(t.pointerId)}}function us(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&sa(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Um(e,t,r,n,s){switch(t){case"focusin":return Kt=us(Kt,e,t,r,n,s),!0;case"dragenter":return Gt=us(Gt,e,t,r,n,s),!0;case"mouseover":return Xt=us(Xt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return as.set(i,us(as.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,os.set(i,us(os.get(i)||null,e,t,r,n,s)),!0}return!1}function pc(e){var t=Tr(e.target);if(t!==null){var r=Pr(t);if(r!==null){if(t=r.tag,t===13){if(t=ec(r),t!==null){e.blockedOn=t,hc(e.priority,function(){dc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=aa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yl=n,r.target.dispatchEvent(n),Yl=null}else return t=ks(r),t!==null&&sa(t),e.blockedOn=r,!1;t.shift()}return!0}function gc(e,t,r){hi(e)&&r.delete(t)}function Qm(){ia=!1,Kt!==null&&hi(Kt)&&(Kt=null),Gt!==null&&hi(Gt)&&(Gt=null),Xt!==null&&hi(Xt)&&(Xt=null),as.forEach(gc),os.forEach(gc)}function cs(e,t){e.blockedOn===t&&(e.blockedOn=null,ia||(ia=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,Qm)))}function ds(e){function t(s){return cs(s,e)}if(0<fi.length){cs(fi[0],e);for(var r=1;r<fi.length;r++){var n=fi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kt!==null&&cs(Kt,e),Gt!==null&&cs(Gt,e),Xt!==null&&cs(Xt,e),as.forEach(t),os.forEach(t),r=0;r<Jt.length;r++)n=Jt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jt.length&&(r=Jt[0],r.blockedOn===null);)pc(r),r.blockedOn===null&&Jt.shift()}var cn=Ot.ReactCurrentBatchConfig,mi=!0;function Wm(e,t,r,n){var s=J,i=cn.transition;cn.transition=null;try{J=1,la(e,t,r,n)}finally{J=s,cn.transition=i}}function Hm(e,t,r,n){var s=J,i=cn.transition;cn.transition=null;try{J=4,la(e,t,r,n)}finally{J=s,cn.transition=i}}function la(e,t,r,n){if(mi){var s=aa(e,t,r,n);if(s===null)ba(e,t,n,pi,r),mc(e,n);else if(Um(s,e,t,r,n))n.stopPropagation();else if(mc(e,n),t&4&&-1<$m.indexOf(e)){for(;s!==null;){var i=ks(s);if(i!==null&&cc(i),i=aa(e,t,r,n),i===null&&ba(e,t,n,pi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ba(e,t,n,null,r)}}var pi=null;function aa(e,t,r,n){if(pi=null,e=Kl(n),e=Tr(e),e!==null)if(t=Pr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ec(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pi=e,null}function yc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case ea:return 1;case lc:return 4;case ai:case Rm:return 16;case ac:return 536870912;default:return 16}default:return 16}}var Zt=null,oa=null,gi=null;function xc(){if(gi)return gi;var e,t=oa,r=t.length,n,s="value"in Zt?Zt.value:Zt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return gi=s.slice(e,1<n?1-n:void 0)}function yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function vc(){return!1}function Ke(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xi:vc,this.isPropagationStopped=vc,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Ke(dn),fs=le({},dn,{view:0,detail:0}),qm=Ke(fs),ca,da,hs,vi=le({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(ca=e.screenX-hs.screenX,da=e.screenY-hs.screenY):da=ca=0,hs=e),ca)},movementY:function(e){return"movementY"in e?e.movementY:da}}),wc=Ke(vi),Vm=le({},vi,{dataTransfer:0}),Ym=Ke(Vm),Km=le({},fs,{relatedTarget:0}),fa=Ke(Km),Gm=le({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xm=Ke(Gm),Jm=le({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zm=Ke(Jm),ep=le({},dn,{data:0}),Nc=Ke(ep),tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=np[e])?!!t[e]:!1}function ha(){return sp}var ip=le({},fs,{key:function(e){if(e.key){var t=tp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(e){return e.type==="keypress"?yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lp=Ke(ip),ap=le({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=Ke(ap),op=le({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),up=Ke(op),cp=le({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=Ke(cp),fp=le({},vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hp=Ke(fp),mp=[9,13,27,32],ma=Mt&&"CompositionEvent"in window,ms=null;Mt&&"documentMode"in document&&(ms=document.documentMode);var pp=Mt&&"TextEvent"in window&&!ms,kc=Mt&&(!ma||ms&&8<ms&&11>=ms),bc=" ",Sc=!1;function Cc(e,t){switch(e){case"keyup":return mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ec(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function gp(e,t){switch(e){case"compositionend":return Ec(t);case"keypress":return t.which!==32?null:(Sc=!0,bc);case"textInput":return e=t.data,e===bc&&Sc?null:e;default:return null}}function yp(e,t){if(fn)return e==="compositionend"||!ma&&Cc(e,t)?(e=xc(),gi=oa=Zt=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kc&&t.locale!=="ko"?null:t.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xp[e.type]:t==="textarea"}function Tc(e,t,r,n){Ku(n),t=bi(t,"onChange"),0<t.length&&(r=new ua("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ps=null,gs=null;function vp(e){Vc(e,0)}function wi(e){var t=yn(e);if(Iu(t))return e}function wp(e,t){if(e==="change")return t}var Mc=!1;if(Mt){var pa;if(Mt){var ga="oninput"in document;if(!ga){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),ga=typeof Oc.oninput=="function"}pa=ga}else pa=!1;Mc=pa&&(!document.documentMode||9<document.documentMode)}function Dc(){ps&&(ps.detachEvent("onpropertychange",Rc),gs=ps=null)}function Rc(e){if(e.propertyName==="value"&&wi(gs)){var t=[];Tc(t,gs,e,Kl(e)),Zu(vp,t)}}function Np(e,t,r){e==="focusin"?(Dc(),ps=t,gs=r,ps.attachEvent("onpropertychange",Rc)):e==="focusout"&&Dc()}function jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wi(gs)}function kp(e,t){if(e==="click")return wi(t)}function bp(e,t){if(e==="input"||e==="change")return wi(t)}function Sp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:Sp;function ys(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!El.call(t,s)||!ct(e[s],t[s]))return!1}return!0}function Ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var r=Ac(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ac(r)}}function _c(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_c(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ic(){for(var e=window,t=ni();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ni(e.document)}return t}function ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cp(e){var t=Ic(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_c(r.ownerDocument.documentElement,r)){if(n!==null&&ya(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Fc(r,i);var a=Fc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ep=Mt&&"documentMode"in document&&11>=document.documentMode,hn=null,xa=null,xs=null,va=!1;function Lc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;va||hn==null||hn!==ni(n)||(n=hn,"selectionStart"in n&&ya(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xs&&ys(xs,n)||(xs=n,n=bi(xa,"onSelect"),0<n.length&&(t=new ua("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hn)))}function Ni(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mn={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionend:Ni("Transition","TransitionEnd")},wa={},zc={};Mt&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function ji(e){if(wa[e])return wa[e];if(!mn[e])return e;var t=mn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zc)return wa[e]=t[r];return e}var Bc=ji("animationend"),$c=ji("animationiteration"),Uc=ji("animationstart"),Qc=ji("transitionend"),Wc=new Map,Hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(e,t){Wc.set(e,t),Er(t,[e])}for(var Na=0;Na<Hc.length;Na++){var ja=Hc[Na],Pp=ja.toLowerCase(),Tp=ja[0].toUpperCase()+ja.slice(1);er(Pp,"on"+Tp)}er(Bc,"onAnimationEnd"),er($c,"onAnimationIteration"),er(Uc,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Qc,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function qc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Pm(n,t,void 0,e),e.currentTarget=null}function Vc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;qc(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;qc(s,o,c),i=u}}}if(li)throw e=Zl,li=!1,Zl=null,e}function re(e,t){var r=t[Ma];r===void 0&&(r=t[Ma]=new Set);var n=e+"__bubble";r.has(n)||(Yc(t,e,2,!1),r.add(n))}function ka(e,t,r){var n=0;t&&(n|=4),Yc(r,e,n,t)}var ki="_reactListening"+Math.random().toString(36).slice(2);function ws(e){if(!e[ki]){e[ki]=!0,Tu.forEach(function(r){r!=="selectionchange"&&(Mp.has(r)||ka(r,!1,e),ka(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ki]||(t[ki]=!0,ka("selectionchange",!1,t))}}function Yc(e,t,r,n){switch(yc(t)){case 1:var s=Wm;break;case 4:s=Hm;break;default:s=la}r=s.bind(null,t,r,e),s=void 0,!Jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ba(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Tr(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Zu(function(){var c=i,g=Kl(r),h=[];e:{var y=Wc.get(e);if(y!==void 0){var w=ua,j=e;switch(e){case"keypress":if(yi(r)===0)break e;case"keydown":case"keyup":w=lp;break;case"focusin":j="focus",w=fa;break;case"focusout":j="blur",w=fa;break;case"beforeblur":case"afterblur":w=fa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=up;break;case Bc:case $c:case Uc:w=Xm;break;case Qc:w=dp;break;case"scroll":w=qm;break;case"wheel":w=hp;break;case"copy":case"cut":case"paste":w=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=jc}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?y!==null?y+"Capture":null:y;v=[];for(var d=c,f;d!==null;){f=d;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,m!==null&&(x=rs(d,m),x!=null&&v.push(Ns(d,x,f)))),b)break;d=d.return}0<v.length&&(y=new w(y,j,null,r,g),h.push({event:y,listeners:v}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",y&&r!==Yl&&(j=r.relatedTarget||r.fromElement)&&(Tr(j)||j[Dt]))break e;if((w||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,w?(j=r.relatedTarget||r.toElement,w=c,j=j?Tr(j):null,j!==null&&(b=Pr(j),j!==b||j.tag!==5&&j.tag!==6)&&(j=null)):(w=null,j=c),w!==j)){if(v=wc,x="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=jc,x="onPointerLeave",m="onPointerEnter",d="pointer"),b=w==null?y:yn(w),f=j==null?y:yn(j),y=new v(x,d+"leave",w,r,g),y.target=b,y.relatedTarget=f,x=null,Tr(g)===c&&(v=new v(m,d+"enter",j,r,g),v.target=f,v.relatedTarget=b,x=v),b=x,w&&j)t:{for(v=w,m=j,d=0,f=v;f;f=pn(f))d++;for(f=0,x=m;x;x=pn(x))f++;for(;0<d-f;)v=pn(v),d--;for(;0<f-d;)m=pn(m),f--;for(;d--;){if(v===m||m!==null&&v===m.alternate)break t;v=pn(v),m=pn(m)}v=null}else v=null;w!==null&&Kc(h,y,w,v,!1),j!==null&&b!==null&&Kc(h,b,j,v,!0)}}e:{if(y=c?yn(c):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var S=wp;else if(Pc(y))if(Mc)S=bp;else{S=jp;var k=Np}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(S=kp);if(S&&(S=S(e,c))){Tc(h,S,r,g);break e}k&&k(e,y,c),e==="focusout"&&(k=y._wrapperState)&&k.controlled&&y.type==="number"&&Ql(y,"number",y.value)}switch(k=c?yn(c):window,e){case"focusin":(Pc(k)||k.contentEditable==="true")&&(hn=k,xa=c,xs=null);break;case"focusout":xs=xa=hn=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,Lc(h,r,g);break;case"selectionchange":if(Ep)break;case"keydown":case"keyup":Lc(h,r,g)}var O;if(ma)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else fn?Cc(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(kc&&r.locale!=="ko"&&(fn||M!=="onCompositionStart"?M==="onCompositionEnd"&&fn&&(O=xc()):(Zt=g,oa="value"in Zt?Zt.value:Zt.textContent,fn=!0)),k=bi(c,M),0<k.length&&(M=new Nc(M,e,null,r,g),h.push({event:M,listeners:k}),O?M.data=O:(O=Ec(r),O!==null&&(M.data=O)))),(O=pp?gp(e,r):yp(e,r))&&(c=bi(c,"onBeforeInput"),0<c.length&&(g=new Nc("onBeforeInput","beforeinput",null,r,g),h.push({event:g,listeners:c}),g.data=O))}Vc(h,t)})}function Ns(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(e,r),i!=null&&n.unshift(Ns(e,i,s)),i=rs(e,t),i!=null&&n.push(Ns(e,i,s))),e=e.return}return n}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kc(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=rs(r,i),u!=null&&a.unshift(Ns(r,u,o))):s||(u=rs(r,i),u!=null&&a.push(Ns(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Op=/\r\n?/g,Dp=/\u0000|\uFFFD/g;function Gc(e){return(typeof e=="string"?e:""+e).replace(Op,`
`).replace(Dp,"")}function Si(e,t,r){if(t=Gc(t),Gc(e)!==t&&r)throw Error(D(425))}function Ci(){}var Sa=null,Ca=null;function Ea(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pa=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,Xc=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Xc<"u"?function(e){return Xc.resolve(null).then(e).catch(Fp)}:Pa;function Fp(e){setTimeout(function(){throw e})}function Ta(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ds(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ds(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var gn=Math.random().toString(36).slice(2),kt="__reactFiber$"+gn,js="__reactProps$"+gn,Dt="__reactContainer$"+gn,Ma="__reactEvents$"+gn,_p="__reactListeners$"+gn,Ip="__reactHandles$"+gn;function Tr(e){var t=e[kt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Dt]||r[kt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jc(e);e!==null;){if(r=e[kt])return r;e=Jc(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[kt]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ei(e){return e[js]||null}var Oa=[],xn=-1;function rr(e){return{current:e}}function ne(e){0>xn||(e.current=Oa[xn],Oa[xn]=null,xn--)}function te(e,t){xn++,Oa[xn]=e.current,e.current=t}var nr={},Ee=rr(nr),Be=rr(!1),Mr=nr;function vn(e,t){var r=e.type.contextTypes;if(!r)return nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $e(e){return e=e.childContextTypes,e!=null}function Pi(){ne(Be),ne(Ee)}function Zc(e,t,r){if(Ee.current!==nr)throw Error(D(168));te(Ee,t),te(Be,r)}function ed(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(D(108,Nm(e)||"Unknown",s));return le({},r,n)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Mr=Ee.current,te(Ee,e),te(Be,Be.current),!0}function td(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=ed(e,t,Mr),n.__reactInternalMemoizedMergedChildContext=e,ne(Be),ne(Ee),te(Ee,e)):ne(Be),te(Be,r)}var Rt=null,Mi=!1,Da=!1;function rd(e){Rt===null?Rt=[e]:Rt.push(e)}function Lp(e){Mi=!0,rd(e)}function sr(){if(!Da&&Rt!==null){Da=!0;var e=0,t=J;try{var r=Rt;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rt=null,Mi=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),sc(ea,sr),s}finally{J=t,Da=!1}}return null}var wn=[],Nn=0,Oi=null,Di=0,et=[],tt=0,Or=null,At=1,Ft="";function Dr(e,t){wn[Nn++]=Di,wn[Nn++]=Oi,Oi=e,Di=t}function nd(e,t,r){et[tt++]=At,et[tt++]=Ft,et[tt++]=Or,Or=e;var n=At;e=Ft;var s=32-ut(n)-1;n&=~(1<<s),r+=1;var i=32-ut(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,At=1<<32-ut(t)+s|r<<s|n,Ft=i+e}else At=1<<i|r<<s|n,Ft=e}function Ra(e){e.return!==null&&(Dr(e,1),nd(e,1,0))}function Aa(e){for(;e===Oi;)Oi=wn[--Nn],wn[Nn]=null,Di=wn[--Nn],wn[Nn]=null;for(;e===Or;)Or=et[--tt],et[tt]=null,Ft=et[--tt],et[tt]=null,At=et[--tt],et[tt]=null}var Ge=null,Xe=null,se=!1,dt=null;function sd(e,t){var r=it(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function id(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Xe=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Or!==null?{id:At,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=it(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ge=e,Xe=null,!0):!1;default:return!1}}function Fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _a(e){if(se){var t=Xe;if(t){var r=t;if(!id(e,t)){if(Fa(e))throw Error(D(418));t=tr(r.nextSibling);var n=Ge;t&&id(e,t)?sd(n,r):(e.flags=e.flags&-4097|2,se=!1,Ge=e)}}else{if(Fa(e))throw Error(D(418));e.flags=e.flags&-4097|2,se=!1,Ge=e}}}function ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Ri(e){if(e!==Ge)return!1;if(!se)return ld(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ea(e.type,e.memoizedProps)),t&&(t=Xe)){if(Fa(e))throw ad(),Error(D(418));for(;t;)sd(e,t),t=tr(t.nextSibling)}if(ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xe=tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Ge?tr(e.stateNode.nextSibling):null;return!0}function ad(){for(var e=Xe;e;)e=tr(e.nextSibling)}function jn(){Xe=Ge=null,se=!1}function Ia(e){dt===null?dt=[e]:dt.push(e)}var zp=Ot.ReactCurrentBatchConfig;function bs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function Ai(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function od(e){var t=e._init;return t(e._payload)}function ud(e){function t(m,d){if(e){var f=m.deletions;f===null?(m.deletions=[d],m.flags|=16):f.push(d)}}function r(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function n(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function s(m,d){return m=fr(m,d),m.index=0,m.sibling=null,m}function i(m,d,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<d?(m.flags|=2,d):f):(m.flags|=2,d)):(m.flags|=1048576,d)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,d,f,x){return d===null||d.tag!==6?(d=To(f,m.mode,x),d.return=m,d):(d=s(d,f),d.return=m,d)}function u(m,d,f,x){var S=f.type;return S===ln?g(m,d,f.props.children,x,f.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vt&&od(S)===d.type)?(x=s(d,f.props),x.ref=bs(m,d,f),x.return=m,x):(x=sl(f.type,f.key,f.props,null,m.mode,x),x.ref=bs(m,d,f),x.return=m,x)}function c(m,d,f,x){return d===null||d.tag!==4||d.stateNode.containerInfo!==f.containerInfo||d.stateNode.implementation!==f.implementation?(d=Mo(f,m.mode,x),d.return=m,d):(d=s(d,f.children||[]),d.return=m,d)}function g(m,d,f,x,S){return d===null||d.tag!==7?(d=Br(f,m.mode,x,S),d.return=m,d):(d=s(d,f),d.return=m,d)}function h(m,d,f){if(typeof d=="string"&&d!==""||typeof d=="number")return d=To(""+d,m.mode,f),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ti:return f=sl(d.type,d.key,d.props,null,m.mode,f),f.ref=bs(m,null,d),f.return=m,f;case sn:return d=Mo(d,m.mode,f),d.return=m,d;case Vt:var x=d._init;return h(m,x(d._payload),f)}if(Zn(d)||Xn(d))return d=Br(d,m.mode,f,null),d.return=m,d;Ai(m,d)}return null}function y(m,d,f,x){var S=d!==null?d.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:o(m,d,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ti:return f.key===S?u(m,d,f,x):null;case sn:return f.key===S?c(m,d,f,x):null;case Vt:return S=f._init,y(m,d,S(f._payload),x)}if(Zn(f)||Xn(f))return S!==null?null:g(m,d,f,x,null);Ai(m,f)}return null}function w(m,d,f,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(f)||null,o(d,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ti:return m=m.get(x.key===null?f:x.key)||null,u(d,m,x,S);case sn:return m=m.get(x.key===null?f:x.key)||null,c(d,m,x,S);case Vt:var k=x._init;return w(m,d,f,k(x._payload),S)}if(Zn(x)||Xn(x))return m=m.get(f)||null,g(d,m,x,S,null);Ai(d,x)}return null}function j(m,d,f,x){for(var S=null,k=null,O=d,M=d=0,U=null;O!==null&&M<f.length;M++){O.index>M?(U=O,O=null):U=O.sibling;var N=y(m,O,f[M],x);if(N===null){O===null&&(O=U);break}e&&O&&N.alternate===null&&t(m,O),d=i(N,d,M),k===null?S=N:k.sibling=N,k=N,O=U}if(M===f.length)return r(m,O),se&&Dr(m,M),S;if(O===null){for(;M<f.length;M++)O=h(m,f[M],x),O!==null&&(d=i(O,d,M),k===null?S=O:k.sibling=O,k=O);return se&&Dr(m,M),S}for(O=n(m,O);M<f.length;M++)U=w(O,m,M,f[M],x),U!==null&&(e&&U.alternate!==null&&O.delete(U.key===null?M:U.key),d=i(U,d,M),k===null?S=U:k.sibling=U,k=U);return e&&O.forEach(function(P){return t(m,P)}),se&&Dr(m,M),S}function v(m,d,f,x){var S=Xn(f);if(typeof S!="function")throw Error(D(150));if(f=S.call(f),f==null)throw Error(D(151));for(var k=S=null,O=d,M=d=0,U=null,N=f.next();O!==null&&!N.done;M++,N=f.next()){O.index>M?(U=O,O=null):U=O.sibling;var P=y(m,O,N.value,x);if(P===null){O===null&&(O=U);break}e&&O&&P.alternate===null&&t(m,O),d=i(P,d,M),k===null?S=P:k.sibling=P,k=P,O=U}if(N.done)return r(m,O),se&&Dr(m,M),S;if(O===null){for(;!N.done;M++,N=f.next())N=h(m,N.value,x),N!==null&&(d=i(N,d,M),k===null?S=N:k.sibling=N,k=N);return se&&Dr(m,M),S}for(O=n(m,O);!N.done;M++,N=f.next())N=w(O,m,M,N.value,x),N!==null&&(e&&N.alternate!==null&&O.delete(N.key===null?M:N.key),d=i(N,d,M),k===null?S=N:k.sibling=N,k=N);return e&&O.forEach(function(C){return t(m,C)}),se&&Dr(m,M),S}function b(m,d,f,x){if(typeof f=="object"&&f!==null&&f.type===ln&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ti:e:{for(var S=f.key,k=d;k!==null;){if(k.key===S){if(S=f.type,S===ln){if(k.tag===7){r(m,k.sibling),d=s(k,f.props.children),d.return=m,m=d;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vt&&od(S)===k.type){r(m,k.sibling),d=s(k,f.props),d.ref=bs(m,k,f),d.return=m,m=d;break e}r(m,k);break}else t(m,k);k=k.sibling}f.type===ln?(d=Br(f.props.children,m.mode,x,f.key),d.return=m,m=d):(x=sl(f.type,f.key,f.props,null,m.mode,x),x.ref=bs(m,d,f),x.return=m,m=x)}return a(m);case sn:e:{for(k=f.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){r(m,d.sibling),d=s(d,f.children||[]),d.return=m,m=d;break e}else{r(m,d);break}else t(m,d);d=d.sibling}d=Mo(f,m.mode,x),d.return=m,m=d}return a(m);case Vt:return k=f._init,b(m,d,k(f._payload),x)}if(Zn(f))return j(m,d,f,x);if(Xn(f))return v(m,d,f,x);Ai(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,d!==null&&d.tag===6?(r(m,d.sibling),d=s(d,f),d.return=m,m=d):(r(m,d),d=To(f,m.mode,x),d.return=m,m=d),a(m)):r(m,d)}return b}var kn=ud(!0),cd=ud(!1),Fi=rr(null),_i=null,bn=null,La=null;function za(){La=bn=_i=null}function Ba(e){var t=Fi.current;ne(Fi),e._currentValue=t}function $a(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Sn(e,t){_i=e,La=bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(La!==e)if(e={context:e,memoizedValue:t,next:null},bn===null){if(_i===null)throw Error(D(308));bn=e,_i.dependencies={lanes:0,firstContext:e}}else bn=bn.next=e;return t}var Rr=null;function Ua(e){Rr===null?Rr=[e]:Rr.push(e)}function dd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ua(t)):(r.next=s.next,s.next=r),t.interleaved=r,_t(e,n)}function _t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ir=!1;function Qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_t(e,r)}return s=n.interleaved,s===null?(t.next=t,Ua(n)):(t.next=s.next,s.next=t),n.interleaved=t,_t(e,r)}function Ii(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,na(e,r)}}function hd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Li(e,t,r,n){var s=e.updateQueue;ir=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var g=e.alternate;g!==null&&(g=g.updateQueue,o=g.lastBaseUpdate,o!==a&&(o===null?g.firstBaseUpdate=c:o.next=c,g.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,g=c=u=null,o=i;do{var y=o.lane,w=o.eventTime;if((n&y)===y){g!==null&&(g=g.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,v=o;switch(y=t,w=r,v.tag){case 1:if(j=v.payload,typeof j=="function"){h=j.call(w,h,y);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,y=typeof j=="function"?j.call(w,h,y):j,y==null)break e;h=le({},h,y);break e;case 2:ir=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[o]:y.push(o))}else w={eventTime:w,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(c=g=w,u=h):g=g.next=w,a|=y;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;y=o,o=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(g===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);_r|=a,e.lanes=a,e.memoizedState=h}}function md(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(D(191,s));s.call(n)}}}var Ss={},bt=rr(Ss),Cs=rr(Ss),Es=rr(Ss);function Ar(e){if(e===Ss)throw Error(D(174));return e}function Wa(e,t){switch(te(Es,t),te(Cs,e),te(bt,Ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hl(t,e)}ne(bt),te(bt,t)}function Cn(){ne(bt),ne(Cs),ne(Es)}function pd(e){Ar(Es.current);var t=Ar(bt.current),r=Hl(t,e.type);t!==r&&(te(Cs,e),te(bt,r))}function Ha(e){Cs.current===e&&(ne(bt),ne(Cs))}var ae=rr(0);function zi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qa=[];function Va(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var Bi=Ot.ReactCurrentDispatcher,Ya=Ot.ReactCurrentBatchConfig,Fr=0,oe=null,ye=null,Ne=null,$i=!1,Ps=!1,Ts=0,Bp=0;function Pe(){throw Error(D(321))}function Ka(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ct(e[r],t[r]))return!1;return!0}function Ga(e,t,r,n,s,i){if(Fr=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bi.current=e===null||e.memoizedState===null?Wp:Hp,e=r(n,s),Ps){i=0;do{if(Ps=!1,Ts=0,25<=i)throw Error(D(301));i+=1,Ne=ye=null,t.updateQueue=null,Bi.current=qp,e=r(n,s)}while(Ps)}if(Bi.current=Wi,t=ye!==null&&ye.next!==null,Fr=0,Ne=ye=oe=null,$i=!1,t)throw Error(D(300));return e}function Xa(){var e=Ts!==0;return Ts=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?oe.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function nt(){if(ye===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=Ne===null?oe.memoizedState:Ne.next;if(t!==null)Ne=t,ye=e;else{if(e===null)throw Error(D(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ne===null?oe.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Ms(e,t){return typeof t=="function"?t(e):t}function Ja(e){var t=nt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var g=c.lane;if((Fr&g)===g)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:g,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,oe.lanes|=g,_r|=g}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,ct(n,t.memoizedState)||(Ue=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,_r|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Za(e){var t=nt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ct(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function gd(){}function yd(e,t){var r=oe,n=nt(),s=t(),i=!ct(n.memoizedState,s);if(i&&(n.memoizedState=s,Ue=!0),n=n.queue,eo(wd.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(r.flags|=2048,Os(9,vd.bind(null,r,n,s,t),void 0,null),je===null)throw Error(D(349));Fr&30||xd(r,t,s)}return s}function xd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vd(e,t,r,n){t.value=r,t.getSnapshot=n,Nd(t)&&jd(e)}function wd(e,t,r){return r(function(){Nd(t)&&jd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ct(e,r)}catch{return!0}}function jd(e){var t=_t(e,1);t!==null&&pt(t,e,1,-1)}function kd(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:e},t.queue=e,e=e.dispatch=Qp.bind(null,oe,e),[t.memoizedState,e]}function Os(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bd(){return nt().memoizedState}function Ui(e,t,r,n){var s=St();oe.flags|=e,s.memoizedState=Os(1|t,r,void 0,n===void 0?null:n)}function Qi(e,t,r,n){var s=nt();n=n===void 0?null:n;var i=void 0;if(ye!==null){var a=ye.memoizedState;if(i=a.destroy,n!==null&&Ka(n,a.deps)){s.memoizedState=Os(t,r,i,n);return}}oe.flags|=e,s.memoizedState=Os(1|t,r,i,n)}function Sd(e,t){return Ui(8390656,8,e,t)}function eo(e,t){return Qi(2048,8,e,t)}function Cd(e,t){return Qi(4,2,e,t)}function Ed(e,t){return Qi(4,4,e,t)}function Pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Td(e,t,r){return r=r!=null?r.concat([e]):null,Qi(4,4,Pd.bind(null,t,e),r)}function to(){}function Md(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ka(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Od(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ka(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Dd(e,t,r){return Fr&21?(ct(r,t)||(r=oc(),oe.lanes|=r,_r|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=r)}function $p(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Ya.transition;Ya.transition={};try{e(!1),t()}finally{J=r,Ya.transition=n}}function Rd(){return nt().memoizedState}function Up(e,t,r){var n=cr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ad(e))Fd(t,r);else if(r=dd(e,t,r,n),r!==null){var s=Fe();pt(r,e,n,s),_d(r,t,n)}}function Qp(e,t,r){var n=cr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Fd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,ct(o,a)){var u=t.interleaved;u===null?(s.next=s,Ua(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=dd(e,t,s,n),r!==null&&(s=Fe(),pt(r,e,n,s),_d(r,t,n))}}function Ad(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Fd(e,t){Ps=$i=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _d(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,na(e,r)}}var Wi={readContext:rt,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Wp={readContext:rt,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Sd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ui(4194308,4,Pd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var r=St();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=St();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Up.bind(null,oe,e),[n.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:kd,useDebugValue:to,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=kd(!1),t=e[0];return e=$p.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oe,s=St();if(se){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),je===null)throw Error(D(349));Fr&30||xd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Sd(wd.bind(null,n,i,e),[e]),n.flags|=2048,Os(9,vd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=St(),t=je.identifierPrefix;if(se){var r=Ft,n=At;r=(n&~(1<<32-ut(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ts++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Bp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hp={readContext:rt,useCallback:Md,useContext:rt,useEffect:eo,useImperativeHandle:Td,useInsertionEffect:Cd,useLayoutEffect:Ed,useMemo:Od,useReducer:Ja,useRef:bd,useState:function(){return Ja(Ms)},useDebugValue:to,useDeferredValue:function(e){var t=nt();return Dd(t,ye.memoizedState,e)},useTransition:function(){var e=Ja(Ms)[0],t=nt().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:yd,useId:Rd,unstable_isNewReconciler:!1},qp={readContext:rt,useCallback:Md,useContext:rt,useEffect:eo,useImperativeHandle:Td,useInsertionEffect:Cd,useLayoutEffect:Ed,useMemo:Od,useReducer:Za,useRef:bd,useState:function(){return Za(Ms)},useDebugValue:to,useDeferredValue:function(e){var t=nt();return ye===null?t.memoizedState=e:Dd(t,ye.memoizedState,e)},useTransition:function(){var e=Za(Ms)[0],t=nt().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:yd,useId:Rd,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hi={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fe(),s=cr(e),i=It(n,s);i.payload=t,r!=null&&(i.callback=r),t=lr(e,i,s),t!==null&&(pt(t,e,s,n),Ii(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fe(),s=cr(e),i=It(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=lr(e,i,s),t!==null&&(pt(t,e,s,n),Ii(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fe(),n=cr(e),s=It(r,n);s.tag=2,t!=null&&(s.callback=t),t=lr(e,s,n),t!==null&&(pt(t,e,n,r),Ii(t,e,n))}};function Id(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ys(r,n)||!ys(s,i):!0}function Ld(e,t,r){var n=!1,s=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=$e(t)?Mr:Ee.current,n=t.contextTypes,i=(n=n!=null)?vn(e,s):nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function zd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function no(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Qa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=$e(t)?Mr:Ee.current,s.context=vn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ro(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hi.enqueueReplaceState(s,s.state,null),Li(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function En(e,t){try{var r="",n=t;do r+=wm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function so(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function io(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Vp=typeof WeakMap=="function"?WeakMap:Map;function Bd(e,t,r){r=It(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ji||(Ji=!0,No=n),io(e,t)},r}function $d(e,t,r){r=It(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){io(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){io(e,t),typeof n!="function"&&(or===null?or=new Set([this]):or.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Ud(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Vp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=a0.bind(null,e,t,r),t.then(e,e))}function Qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=It(-1,1),t.tag=2,lr(r,t,1))),r.lanes|=1),e)}var Yp=Ot.ReactCurrentOwner,Ue=!1;function Ae(e,t,r,n){t.child=e===null?cd(t,null,r,n):kn(t,e.child,r,n)}function Hd(e,t,r,n,s){r=r.render;var i=t.ref;return Sn(t,s),n=Ga(e,t,r,n,i,s),r=Xa(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(se&&r&&Ra(t),t.flags|=1,Ae(e,t,n,s),t.child)}function qd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Po(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Vd(e,t,i,n,s)):(e=sl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ys,r(a,n)&&e.ref===t.ref)return Lt(e,t,s)}return t.flags|=1,e=fr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Vd(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ys(i,n)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,Lt(e,t,s)}return lo(e,t,r,n,s)}function Yd(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Tn,Je),Je|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Tn,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,te(Tn,Je),Je|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,te(Tn,Je),Je|=n;return Ae(e,t,s,r),t.child}function Kd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lo(e,t,r,n,s){var i=$e(r)?Mr:Ee.current;return i=vn(t,i),Sn(t,s),r=Ga(e,t,r,n,i,s),n=Xa(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(se&&n&&Ra(t),t.flags|=1,Ae(e,t,r,s),t.child)}function Gd(e,t,r,n,s){if($e(r)){var i=!0;Ti(t)}else i=!1;if(Sn(t,s),t.stateNode===null)Vi(e,t),Ld(t,r,n),no(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=rt(c):(c=$e(r)?Mr:Ee.current,c=vn(t,c));var g=r.getDerivedStateFromProps,h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&zd(t,a,n,c),ir=!1;var y=t.memoizedState;a.state=y,Li(t,n,a,s),u=t.memoizedState,o!==n||y!==u||Be.current||ir?(typeof g=="function"&&(ro(t,r,g,n),u=t.memoizedState),(o=ir||Id(t,r,o,n,y,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,fd(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ft(t.type,o),a.props=c,h=t.pendingProps,y=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=rt(u):(u=$e(r)?Mr:Ee.current,u=vn(t,u));var w=r.getDerivedStateFromProps;(g=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||y!==u)&&zd(t,a,n,u),ir=!1,y=t.memoizedState,a.state=y,Li(t,n,a,s);var j=t.memoizedState;o!==h||y!==j||Be.current||ir?(typeof w=="function"&&(ro(t,r,w,n),j=t.memoizedState),(c=ir||Id(t,r,c,n,y,j,u)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,j,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,j,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=j),a.props=n,a.state=j,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return ao(e,t,r,n,i,s)}function ao(e,t,r,n,s,i){Kd(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&td(t,r,!1),Lt(e,t,i);n=t.stateNode,Yp.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=kn(t,e.child,null,i),t.child=kn(t,null,o,i)):Ae(e,t,o,i),t.memoizedState=n.state,s&&td(t,r,!0),t.child}function Xd(e){var t=e.stateNode;t.pendingContext?Zc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zc(e,t.context,!1),Wa(e,t.containerInfo)}function Jd(e,t,r,n,s){return jn(),Ia(s),t.flags|=256,Ae(e,t,r,n),t.child}var oo={dehydrated:null,treeContext:null,retryLane:0};function uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zd(e,t,r){var n=t.pendingProps,s=ae.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ae,s&1),e===null)return _a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=il(a,n,0,null),e=Br(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uo(r),t.memoizedState=oo,e):co(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Kp(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=fr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=fr(o,i):(i=Br(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?uo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=oo,n}return i=e.child,e=i.sibling,n=fr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function co(e,t){return t=il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,r,n){return n!==null&&Ia(n),kn(t,e.child,null,r),e=co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kp(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=so(Error(D(422))),qi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=il({mode:"visible",children:n.children},s,0,null),i=Br(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&kn(t,e.child,null,a),t.child.memoizedState=uo(a),t.memoizedState=oo,i);if(!(t.mode&1))return qi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(D(419)),n=so(i,n,void 0),qi(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ue||o){if(n=je,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(e,s),pt(n,e,s,-1))}return Eo(),n=so(Error(D(421))),qi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=o0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xe=tr(s.nextSibling),Ge=t,se=!0,dt=null,e!==null&&(et[tt++]=At,et[tt++]=Ft,et[tt++]=Or,At=e.id,Ft=e.overflow,Or=t),t=co(t,n.children),t.flags|=4096,t)}function ef(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$a(e.return,t,r)}function fo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function tf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ae(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ef(e,r,t);else if(e.tag===19)ef(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(te(ae,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&zi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),fo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&zi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}fo(t,!0,r,null,i);break;case"together":fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=fr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gp(e,t,r){switch(t.tag){case 3:Xd(t),jn();break;case 5:pd(t);break;case 1:$e(t.type)&&Ti(t);break;case 4:Wa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;te(Fi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(te(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?Zd(e,t,r):(te(ae,ae.current&1),e=Lt(e,t,r),e!==null?e.sibling:null);te(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return tf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,Yd(e,t,r)}return Lt(e,t,r)}var rf,ho,nf,sf;rf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ho=function(){},nf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ar(bt.current);var i=null;switch(r){case"input":s=$l(e,s),n=$l(e,n),i=[];break;case"select":s=le({},s,{value:void 0}),n=le({},n,{value:void 0}),i=[];break;case"textarea":s=Wl(e,s),n=Wl(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ci)}ql(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&re("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},sf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ds(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Xp(e,t,r){var n=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return $e(t.type)&&Pi(),Te(t),null;case 3:return n=t.stateNode,Cn(),ne(Be),ne(Ee),Va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(bo(dt),dt=null))),ho(e,t),Te(t),null;case 5:Ha(t);var s=Ar(Es.current);if(r=t.type,e!==null&&t.stateNode!=null)nf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return Te(t),null}if(e=Ar(bt.current),Ri(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[kt]=t,n[js]=i,e=(t.mode&1)!==0,r){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(s=0;s<vs.length;s++)re(vs[s],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":Lu(n,i),re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},re("invalid",n);break;case"textarea":$u(n,i),re("invalid",n)}ql(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Si(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Si(n.textContent,o,e),s=["children",""+o]):Gn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&re("scroll",n)}switch(r){case"input":ri(n),Bu(n,i,!0);break;case"textarea":ri(n),Qu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ci)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[kt]=t,e[js]=n,rf(e,t,!1,!1),t.stateNode=e;e:{switch(a=Vl(r,n),r){case"dialog":re("cancel",e),re("close",e),s=n;break;case"iframe":case"object":case"embed":re("load",e),s=n;break;case"video":case"audio":for(s=0;s<vs.length;s++)re(vs[s],e);s=n;break;case"source":re("error",e),s=n;break;case"img":case"image":case"link":re("error",e),re("load",e),s=n;break;case"details":re("toggle",e),s=n;break;case"input":Lu(e,n),s=$l(e,n),re("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=le({},n,{value:void 0}),re("invalid",e);break;case"textarea":$u(e,n),s=Wl(e,n),re("invalid",e);break;default:s=n}ql(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Vu(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hu(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&es(e,u):typeof u=="number"&&es(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&re("scroll",e):u!=null&&Ml(e,i,u,a))}switch(r){case"input":ri(e),Bu(e,n,!1);break;case"textarea":ri(e),Qu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?an(e,!!n.multiple,i,!1):n.defaultValue!=null&&an(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ci)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)sf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=Ar(Es.current),Ar(bt.current),Ri(t)){if(n=t.stateNode,r=t.memoizedProps,n[kt]=t,(i=n.nodeValue!==r)&&(e=Ge,e!==null))switch(e.tag){case 3:Si(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Si(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kt]=t,t.stateNode=n}return Te(t),null;case 13:if(ne(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Xe!==null&&t.mode&1&&!(t.flags&128))ad(),jn(),t.flags|=98560,i=!1;else if(i=Ri(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[kt]=t}else jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else dt!==null&&(bo(dt),dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?xe===0&&(xe=3):Eo())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return Cn(),ho(e,t),e===null&&ws(t.stateNode.containerInfo),Te(t),null;case 10:return Ba(t.type._context),Te(t),null;case 17:return $e(t.type)&&Pi(),Te(t),null;case 19:if(ne(ae),i=t.memoizedState,i===null)return Te(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ds(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=zi(e),a!==null){for(t.flags|=128,Ds(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return te(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&he()>Mn&&(t.flags|=128,n=!0,Ds(i,!1),t.lanes=4194304)}else{if(!n)if(e=zi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!se)return Te(t),null}else 2*he()-i.renderingStartTime>Mn&&r!==1073741824&&(t.flags|=128,n=!0,Ds(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=he(),t.sibling=null,r=ae.current,te(ae,n?r&1|2:r&1),t):(Te(t),null);case 22:case 23:return Co(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Je&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Jp(e,t){switch(Aa(t),t.tag){case 1:return $e(t.type)&&Pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(),ne(Be),ne(Ee),Va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ha(t),null;case 13:if(ne(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ae),null;case 4:return Cn(),null;case 10:return Ba(t.type._context),null;case 22:case 23:return Co(),null;case 24:return null;default:return null}}var Yi=!1,Me=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,I=null;function Pn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(e,t,n)}else r.current=null}function mo(e,t,r){try{r()}catch(n){de(e,t,n)}}var lf=!1;function e0(e,t){if(Sa=mi,e=Ic(),ya(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,g=0,h=e,y=null;t:for(;;){for(var w;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(w=h.firstChild)!==null;)y=h,h=w;for(;;){if(h===e)break t;if(y===r&&++c===s&&(o=a),y===i&&++g===n&&(u=a),(w=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=w}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ca={focusedElem:e,selectionRange:r},mi=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,b=j.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ft(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(x){de(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return j=lf,lf=!1,j}function Rs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mo(t,r,i)}s=s.next}while(s!==n)}}function Ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function po(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function af(e){var t=e.alternate;t!==null&&(e.alternate=null,af(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[js],delete t[Ma],delete t[_p],delete t[Ip])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function of(e){return e.tag===5||e.tag===3||e.tag===4}function uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function go(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ci));else if(n!==4&&(e=e.child,e!==null))for(go(e,t,r),e=e.sibling;e!==null;)go(e,t,r),e=e.sibling}function yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yo(e,t,r),e=e.sibling;e!==null;)yo(e,t,r),e=e.sibling}var Se=null,ht=!1;function ar(e,t,r){for(r=r.child;r!==null;)cf(e,t,r),r=r.sibling}function cf(e,t,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(oi,r)}catch{}switch(r.tag){case 5:Me||Pn(r,t);case 6:var n=Se,s=ht;Se=null,ar(e,t,r),Se=n,ht=s,Se!==null&&(ht?(e=Se,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Se.removeChild(r.stateNode));break;case 18:Se!==null&&(ht?(e=Se,r=r.stateNode,e.nodeType===8?Ta(e.parentNode,r):e.nodeType===1&&Ta(e,r),ds(e)):Ta(Se,r.stateNode));break;case 4:n=Se,s=ht,Se=r.stateNode.containerInfo,ht=!0,ar(e,t,r),Se=n,ht=s;break;case 0:case 11:case 14:case 15:if(!Me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mo(r,t,a),s=s.next}while(s!==n)}ar(e,t,r);break;case 1:if(!Me&&(Pn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){de(r,t,o)}ar(e,t,r);break;case 21:ar(e,t,r);break;case 22:r.mode&1?(Me=(n=Me)||r.memoizedState!==null,ar(e,t,r),Me=n):ar(e,t,r);break;default:ar(e,t,r)}}function df(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zp),t.forEach(function(n){var s=u0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function mt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Se=o.stateNode,ht=!1;break e;case 3:Se=o.stateNode.containerInfo,ht=!0;break e;case 4:Se=o.stateNode.containerInfo,ht=!0;break e}o=o.return}if(Se===null)throw Error(D(160));cf(i,a,s),Se=null,ht=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){de(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ff(t,e),t=t.sibling}function ff(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Ct(e),n&4){try{Rs(3,e,e.return),Ki(3,e)}catch(v){de(e,e.return,v)}try{Rs(5,e,e.return)}catch(v){de(e,e.return,v)}}break;case 1:mt(t,e),Ct(e),n&512&&r!==null&&Pn(r,r.return);break;case 5:if(mt(t,e),Ct(e),n&512&&r!==null&&Pn(r,r.return),e.flags&32){var s=e.stateNode;try{es(s,"")}catch(v){de(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&zu(s,i),Vl(o,a);var c=Vl(o,i);for(a=0;a<u.length;a+=2){var g=u[a],h=u[a+1];g==="style"?Vu(s,h):g==="dangerouslySetInnerHTML"?Hu(s,h):g==="children"?es(s,h):Ml(s,g,h,c)}switch(o){case"input":Ul(s,i);break;case"textarea":Uu(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?an(s,!!i.multiple,w,!1):y!==!!i.multiple&&(i.defaultValue!=null?an(s,!!i.multiple,i.defaultValue,!0):an(s,!!i.multiple,i.multiple?[]:"",!1))}s[js]=i}catch(v){de(e,e.return,v)}}break;case 6:if(mt(t,e),Ct(e),n&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){de(e,e.return,v)}}break;case 3:if(mt(t,e),Ct(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(v){de(e,e.return,v)}break;case 4:mt(t,e),Ct(e);break;case 13:mt(t,e),Ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wo=he())),n&4&&df(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Me=(c=Me)||g,mt(t,e),Me=c):mt(t,e),Ct(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!g&&e.mode&1)for(I=e,g=e.child;g!==null;){for(h=I=g;I!==null;){switch(y=I,w=y.child,y.tag){case 0:case 11:case 14:case 15:Rs(4,y,y.return);break;case 1:Pn(y,y.return);var j=y.stateNode;if(typeof j.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){de(n,r,v)}}break;case 5:Pn(y,y.return);break;case 22:if(y.memoizedState!==null){pf(h);continue}}w!==null?(w.return=y,I=w):pf(h)}g=g.sibling}e:for(g=null,h=e;;){if(h.tag===5){if(g===null){g=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=qu("display",a))}catch(v){de(e,e.return,v)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){de(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mt(t,e),Ct(e),n&4&&df(e);break;case 21:break;default:mt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(of(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(es(s,""),n.flags&=-33);var i=uf(e);yo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=uf(e);go(e,o,a);break;default:throw Error(D(161))}}catch(u){de(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t0(e,t,r){I=e,hf(e)}function hf(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Yi;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Me;o=Yi;var c=Me;if(Yi=a,(Me=u)&&!c)for(I=s;I!==null;)a=I,u=a.child,a.tag===22&&a.memoizedState!==null?gf(s):u!==null?(u.return=a,I=u):gf(s);for(;i!==null;)I=i,hf(i),i=i.sibling;I=s,Yi=o,Me=c}mf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):mf(e)}}function mf(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Ki(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Me)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ft(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&md(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}md(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var g=c.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&ds(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Me||t.flags&512&&po(t)}catch(y){de(t,t.return,y)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function pf(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function gf(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ki(4,t)}catch(u){de(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){de(t,s,u)}}var i=t.return;try{po(t)}catch(u){de(t,i,u)}break;case 5:var a=t.return;try{po(t)}catch(u){de(t,a,u)}}}catch(u){de(t,t.return,u)}if(t===e){I=null;break}var o=t.sibling;if(o!==null){o.return=t.return,I=o;break}I=t.return}}var r0=Math.ceil,Gi=Ot.ReactCurrentDispatcher,xo=Ot.ReactCurrentOwner,st=Ot.ReactCurrentBatchConfig,G=0,je=null,pe=null,Ce=0,Je=0,Tn=rr(0),xe=0,As=null,_r=0,Xi=0,vo=0,Fs=null,Qe=null,wo=0,Mn=1/0,zt=null,Ji=!1,No=null,or=null,Zi=!1,ur=null,el=0,_s=0,jo=null,tl=-1,rl=0;function Fe(){return G&6?he():tl!==-1?tl:tl=he()}function cr(e){return e.mode&1?G&2&&Ce!==0?Ce&-Ce:zp.transition!==null?(rl===0&&(rl=oc()),rl):(e=J,e!==0||(e=window.event,e=e===void 0?16:yc(e.type)),e):1}function pt(e,t,r,n){if(50<_s)throw _s=0,jo=null,Error(D(185));ls(e,r,n),(!(G&2)||e!==je)&&(e===je&&(!(G&2)&&(Xi|=r),xe===4&&dr(e,Ce)),We(e,n),r===1&&G===0&&!(t.mode&1)&&(Mn=he()+500,Mi&&sr()))}function We(e,t){var r=e.callbackNode;zm(e,t);var n=di(e,e===je?Ce:0);if(n===0)r!==null&&ic(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ic(r),t===1)e.tag===0?Lp(xf.bind(null,e)):rd(xf.bind(null,e)),Ap(function(){!(G&6)&&sr()}),r=null;else{switch(uc(n)){case 1:r=ea;break;case 4:r=lc;break;case 16:r=ai;break;case 536870912:r=ac;break;default:r=ai}r=Cf(r,yf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yf(e,t){if(tl=-1,rl=0,G&6)throw Error(D(327));var r=e.callbackNode;if(On()&&e.callbackNode!==r)return null;var n=di(e,e===je?Ce:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=nl(e,n);else{t=n;var s=G;G|=2;var i=wf();(je!==e||Ce!==t)&&(zt=null,Mn=he()+500,Lr(e,t));do try{i0();break}catch(o){vf(e,o)}while(!0);za(),Gi.current=i,G=s,pe!==null?t=0:(je=null,Ce=0,t=xe)}if(t!==0){if(t===2&&(s=ta(e),s!==0&&(n=s,t=ko(e,s))),t===1)throw r=As,Lr(e,0),dr(e,n),We(e,he()),r;if(t===6)dr(e,n);else{if(s=e.current.alternate,!(n&30)&&!n0(s)&&(t=nl(e,n),t===2&&(i=ta(e),i!==0&&(n=i,t=ko(e,i))),t===1))throw r=As,Lr(e,0),dr(e,n),We(e,he()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:zr(e,Qe,zt);break;case 3:if(dr(e,n),(n&130023424)===n&&(t=wo+500-he(),10<t)){if(di(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pa(zr.bind(null,e,Qe,zt),t);break}zr(e,Qe,zt);break;case 4:if(dr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ut(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*r0(n/1960))-n,10<n){e.timeoutHandle=Pa(zr.bind(null,e,Qe,zt),n);break}zr(e,Qe,zt);break;case 5:zr(e,Qe,zt);break;default:throw Error(D(329))}}}return We(e,he()),e.callbackNode===r?yf.bind(null,e):null}function ko(e,t){var r=Fs;return e.current.memoizedState.isDehydrated&&(Lr(e,t).flags|=256),e=nl(e,t),e!==2&&(t=Qe,Qe=r,t!==null&&bo(t)),e}function bo(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function n0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~vo,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ut(t),n=1<<r;e[r]=-1,t&=~n}}function xf(e){if(G&6)throw Error(D(327));On();var t=di(e,0);if(!(t&1))return We(e,he()),null;var r=nl(e,t);if(e.tag!==0&&r===2){var n=ta(e);n!==0&&(t=n,r=ko(e,n))}if(r===1)throw r=As,Lr(e,0),dr(e,t),We(e,he()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zr(e,Qe,zt),We(e,he()),null}function So(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(Mn=he()+500,Mi&&sr())}}function Ir(e){ur!==null&&ur.tag===0&&!(G&6)&&On();var t=G;G|=1;var r=st.transition,n=J;try{if(st.transition=null,J=1,e)return e()}finally{J=n,st.transition=r,G=t,!(G&6)&&sr()}}function Co(){Je=Tn.current,ne(Tn)}function Lr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Rp(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(Aa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pi();break;case 3:Cn(),ne(Be),ne(Ee),Va();break;case 5:Ha(n);break;case 4:Cn();break;case 13:ne(ae);break;case 19:ne(ae);break;case 10:Ba(n.type._context);break;case 22:case 23:Co()}r=r.return}if(je=e,pe=e=fr(e.current,null),Ce=Je=t,xe=0,As=null,vo=Xi=_r=0,Qe=Fs=null,Rr!==null){for(t=0;t<Rr.length;t++)if(r=Rr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Rr=null}return e}function vf(e,t){do{var r=pe;try{if(za(),Bi.current=Wi,$i){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$i=!1}if(Fr=0,Ne=ye=oe=null,Ps=!1,Ts=0,xo.current=null,r===null||r.return===null){xe=1,As=t,pe=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=Ce,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,g=o,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=Qd(a);if(w!==null){w.flags&=-257,Wd(w,a,o,i,t),w.mode&1&&Ud(i,c,t),t=w,u=c;var j=t.updateQueue;if(j===null){var v=new Set;v.add(u),t.updateQueue=v}else j.add(u);break e}else{if(!(t&1)){Ud(i,c,t),Eo();break e}u=Error(D(426))}}else if(se&&o.mode&1){var b=Qd(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Wd(b,a,o,i,t),Ia(En(u,o));break e}}i=u=En(u,o),xe!==4&&(xe=2),Fs===null?Fs=[i]:Fs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Bd(i,u,t);hd(i,m);break e;case 1:o=u;var d=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(or===null||!or.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=$d(i,o,t);hd(i,x);break e}}i=i.return}while(i!==null)}jf(r)}catch(S){t=S,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function wf(){var e=Gi.current;return Gi.current=Wi,e===null?Wi:e}function Eo(){(xe===0||xe===3||xe===2)&&(xe=4),je===null||!(_r&268435455)&&!(Xi&268435455)||dr(je,Ce)}function nl(e,t){var r=G;G|=2;var n=wf();(je!==e||Ce!==t)&&(zt=null,Lr(e,t));do try{s0();break}catch(s){vf(e,s)}while(!0);if(za(),G=r,Gi.current=n,pe!==null)throw Error(D(261));return je=null,Ce=0,xe}function s0(){for(;pe!==null;)Nf(pe)}function i0(){for(;pe!==null&&!Mm();)Nf(pe)}function Nf(e){var t=Sf(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?jf(e):pe=t,xo.current=null}function jf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jp(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,pe=null;return}}else if(r=Xp(r,t,Je),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);xe===0&&(xe=5)}function zr(e,t,r){var n=J,s=st.transition;try{st.transition=null,J=1,l0(e,t,r,n)}finally{st.transition=s,J=n}return null}function l0(e,t,r,n){do On();while(ur!==null);if(G&6)throw Error(D(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Bm(e,i),e===je&&(pe=je=null,Ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zi||(Zi=!0,Cf(ai,function(){return On(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=st.transition,st.transition=null;var a=J;J=1;var o=G;G|=4,xo.current=null,e0(e,r),ff(r,e),Cp(Ca),mi=!!Sa,Ca=Sa=null,e.current=r,t0(r),Om(),G=o,J=a,st.transition=i}else e.current=r;if(Zi&&(Zi=!1,ur=e,el=s),i=e.pendingLanes,i===0&&(or=null),Am(r.stateNode),We(e,he()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ji)throw Ji=!1,e=No,No=null,e;return el&1&&e.tag!==0&&On(),i=e.pendingLanes,i&1?e===jo?_s++:(_s=0,jo=e):_s=0,sr(),null}function On(){if(ur!==null){var e=uc(el),t=st.transition,r=J;try{if(st.transition=null,J=16>e?16:e,ur===null)var n=!1;else{if(e=ur,ur=null,el=0,G&6)throw Error(D(331));var s=G;for(G|=4,I=e.current;I!==null;){var i=I,a=i.child;if(I.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(I=c;I!==null;){var g=I;switch(g.tag){case 0:case 11:case 15:Rs(8,g,i)}var h=g.child;if(h!==null)h.return=g,I=h;else for(;I!==null;){g=I;var y=g.sibling,w=g.return;if(af(g),g===c){I=null;break}if(y!==null){y.return=w,I=y;break}I=w}}}var j=i.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}I=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,I=a;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,I=m;break e}I=i.return}}var d=e.current;for(I=d;I!==null;){a=I;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,I=f;else e:for(a=d;I!==null;){if(o=I,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ki(9,o)}}catch(S){de(o,o.return,S)}if(o===a){I=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,I=x;break e}I=o.return}}if(G=s,sr(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(oi,e)}catch{}n=!0}return n}finally{J=r,st.transition=t}}return!1}function kf(e,t,r){t=En(r,t),t=Bd(e,t,1),e=lr(e,t,1),t=Fe(),e!==null&&(ls(e,1,t),We(e,t))}function de(e,t,r){if(e.tag===3)kf(e,e,r);else for(;t!==null;){if(t.tag===3){kf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(or===null||!or.has(n))){e=En(r,e),e=$d(t,e,1),t=lr(t,e,1),e=Fe(),t!==null&&(ls(t,1,e),We(t,e));break}}t=t.return}}function a0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&r,je===e&&(Ce&r)===r&&(xe===4||xe===3&&(Ce&130023424)===Ce&&500>he()-wo?Lr(e,0):vo|=r),We(e,t)}function bf(e,t){t===0&&(e.mode&1?(t=ci,ci<<=1,!(ci&130023424)&&(ci=4194304)):t=1);var r=Fe();e=_t(e,t),e!==null&&(ls(e,t,r),We(e,r))}function o0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bf(e,r)}function u0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),bf(e,r)}var Sf;Sf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)Ue=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ue=!1,Gp(e,t,r);Ue=!!(e.flags&131072)}else Ue=!1,se&&t.flags&1048576&&nd(t,Di,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vi(e,t),e=t.pendingProps;var s=vn(t,Ee.current);Sn(t,r),s=Ga(null,t,n,e,s,r);var i=Xa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(n)?(i=!0,Ti(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qa(t),s.updater=Hi,t.stateNode=s,s._reactInternals=t,no(t,n,e,r),t=ao(null,t,n,!0,i,r)):(t.tag=0,se&&i&&Ra(t),Ae(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=d0(n),e=ft(n,e),s){case 0:t=lo(null,t,n,e,r);break e;case 1:t=Gd(null,t,n,e,r);break e;case 11:t=Hd(null,t,n,e,r);break e;case 14:t=qd(null,t,n,ft(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ft(n,s),lo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ft(n,s),Gd(e,t,n,s,r);case 3:e:{if(Xd(t),e===null)throw Error(D(387));n=t.pendingProps,i=t.memoizedState,s=i.element,fd(e,t),Li(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=En(Error(D(423)),t),t=Jd(e,t,n,r,s);break e}else if(n!==s){s=En(Error(D(424)),t),t=Jd(e,t,n,r,s);break e}else for(Xe=tr(t.stateNode.containerInfo.firstChild),Ge=t,se=!0,dt=null,r=cd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jn(),n===s){t=Lt(e,t,r);break e}Ae(e,t,n,r)}t=t.child}return t;case 5:return pd(t),e===null&&_a(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Ea(n,s)?a=null:i!==null&&Ea(n,i)&&(t.flags|=32),Kd(e,t),Ae(e,t,a,r),t.child;case 6:return e===null&&_a(t),null;case 13:return Zd(e,t,r);case 4:return Wa(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=kn(t,null,n,r):Ae(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ft(n,s),Hd(e,t,n,s,r);case 7:return Ae(e,t,t.pendingProps,r),t.child;case 8:return Ae(e,t,t.pendingProps.children,r),t.child;case 12:return Ae(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,te(Fi,n._currentValue),n._currentValue=a,i!==null)if(ct(i.value,a)){if(i.children===s.children&&!Be.current){t=Lt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=It(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var g=c.pending;g===null?u.next=u:(u.next=g.next,g.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),$a(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(D(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),$a(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ae(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Sn(t,r),s=rt(s),n=n(s),t.flags|=1,Ae(e,t,n,r),t.child;case 14:return n=t.type,s=ft(n,t.pendingProps),s=ft(n.type,s),qd(e,t,n,s,r);case 15:return Vd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ft(n,s),Vi(e,t),t.tag=1,$e(n)?(e=!0,Ti(t)):e=!1,Sn(t,r),Ld(t,n,s),no(t,n,s,r),ao(null,t,n,!0,e,r);case 19:return tf(e,t,r);case 22:return Yd(e,t,r)}throw Error(D(156,t.tag))};function Cf(e,t){return sc(e,t)}function c0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,r,n){return new c0(e,t,r,n)}function Po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function d0(e){if(typeof e=="function")return Po(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rl)return 11;if(e===_l)return 14}return 2}function fr(e,t){var r=e.alternate;return r===null?(r=it(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function sl(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Po(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ln:return Br(r.children,s,i,t);case Ol:a=8,s|=8;break;case Dl:return e=it(12,r,t,s|2),e.elementType=Dl,e.lanes=i,e;case Al:return e=it(13,r,t,s),e.elementType=Al,e.lanes=i,e;case Fl:return e=it(19,r,t,s),e.elementType=Fl,e.lanes=i,e;case Au:return il(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Du:a=10;break e;case Ru:a=9;break e;case Rl:a=11;break e;case _l:a=14;break e;case Vt:a=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=it(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Br(e,t,r,n){return e=it(7,e,n,t),e.lanes=r,e}function il(e,t,r,n){return e=it(22,e,n,t),e.elementType=Au,e.lanes=r,e.stateNode={isHidden:!1},e}function To(e,t,r){return e=it(6,e,null,t),e.lanes=r,e}function Mo(e,t,r){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function f0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Oo(e,t,r,n,s,i,a,o,u){return e=new f0(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qa(i),e}function h0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ef(e){if(!e)return nr;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if($e(r))return ed(e,r,t)}return t}function Pf(e,t,r,n,s,i,a,o,u){return e=Oo(r,n,!0,e,s,i,a,o,u),e.context=Ef(null),r=e.current,n=Fe(),s=cr(r),i=It(n,s),i.callback=t??null,lr(r,i,s),e.current.lanes=s,ls(e,s,n),We(e,n),e}function ll(e,t,r,n){var s=t.current,i=Fe(),a=cr(s);return r=Ef(r),t.context===null?t.context=r:t.pendingContext=r,t=It(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=lr(s,t,a),e!==null&&(pt(e,s,a,i),Ii(e,s,a)),a}function al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Do(e,t){Tf(e,t),(e=e.alternate)&&Tf(e,t)}function m0(){return null}var Mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ro(e){this._internalRoot=e}ol.prototype.render=Ro.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));ll(e,t,null,null)},ol.prototype.unmount=Ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){ll(null,e,null,null)}),t[Dt]=null}};function ol(e){this._internalRoot=e}ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=fc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jt.length&&t!==0&&t<Jt[r].priority;r++);Jt.splice(r,0,e),r===0&&pc(e)}};function Ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Of(){}function p0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=al(a);i.call(c)}}var a=Pf(t,n,e,0,null,!1,!1,"",Of);return e._reactRootContainer=a,e[Dt]=a.current,ws(e.nodeType===8?e.parentNode:e),Ir(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=al(u);o.call(c)}}var u=Oo(e,0,!1,null,null,!1,!1,"",Of);return e._reactRootContainer=u,e[Dt]=u.current,ws(e.nodeType===8?e.parentNode:e),Ir(function(){ll(t,u,r,n)}),u}function cl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=al(a);o.call(u)}}ll(t,a,e,s)}else a=p0(r,t,e,s,n);return al(a)}cc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=is(t.pendingLanes);r!==0&&(na(t,r|1),We(t,he()),!(G&6)&&(Mn=he()+500,sr()))}break;case 13:Ir(function(){var n=_t(e,1);if(n!==null){var s=Fe();pt(n,e,1,s)}}),Do(e,1)}},sa=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var r=Fe();pt(t,e,134217728,r)}Do(e,134217728)}},dc=function(e){if(e.tag===13){var t=cr(e),r=_t(e,t);if(r!==null){var n=Fe();pt(r,e,t,n)}Do(e,t)}},fc=function(){return J},hc=function(e,t){var r=J;try{return J=e,t()}finally{J=r}},Gl=function(e,t,r){switch(t){case"input":if(Ul(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ei(n);if(!s)throw Error(D(90));Iu(n),Ul(n,s)}}}break;case"textarea":Uu(e,r);break;case"select":t=r.value,t!=null&&an(e,!!r.multiple,t,!1)}},Xu=So,Ju=Ir;var g0={usingClientEntryPoint:!1,Events:[ks,yn,Ei,Ku,Gu,So]},Is={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y0={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rc(e),e===null?null:e.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{oi=dl.inject(y0),jt=dl}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0,Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ao(t))throw Error(D(200));return h0(e,t,null,r)},Ve.createRoot=function(e,t){if(!Ao(e))throw Error(D(299));var r=!1,n="",s=Mf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Oo(e,1,!1,null,null,r,!1,n,s),e[Dt]=t.current,ws(e.nodeType===8?e.parentNode:e),new Ro(t)},Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=rc(t),e=e===null?null:e.stateNode,e},Ve.flushSync=function(e){return Ir(e)},Ve.hydrate=function(e,t,r){if(!ul(t))throw Error(D(200));return cl(null,e,t,!0,r)},Ve.hydrateRoot=function(e,t,r){if(!Ao(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Mf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Pf(t,null,e,1,r??null,s,!1,i,a),e[Dt]=t.current,ws(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ol(t)},Ve.render=function(e,t,r){if(!ul(t))throw Error(D(200));return cl(null,e,t,!1,r)},Ve.unmountComponentAtNode=function(e){if(!ul(e))throw Error(D(40));return e._reactRootContainer?(Ir(function(){cl(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1},Ve.unstable_batchedUpdates=So,Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ul(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return cl(e,t,r,!1,n)},Ve.version="18.3.1-next-f1338f8080-20240426";function Df(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Df)}catch(e){console.error(e)}}Df(),Cu.exports=Ve;var x0=Cu.exports,Rf,Af=x0;Rf=Af.createRoot,Af.hydrateRoot;var Dn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},v0={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},w0=(Ah=class{constructor(){B(this,gr,v0);B(this,su,!1)}setTimeoutProvider(e){_(this,gr,e)}setTimeout(e,t){return p(this,gr).setTimeout(e,t)}clearTimeout(e){p(this,gr).clearTimeout(e)}setInterval(e,t){return p(this,gr).setInterval(e,t)}clearInterval(e){p(this,gr).clearInterval(e)}},gr=new WeakMap,su=new WeakMap,Ah),$r=new w0;function N0(e){setTimeout(e,0)}var Ur=typeof window>"u"||"Deno"in globalThis;function _e(){}function j0(e,t){return typeof e=="function"?e(t):e}function Fo(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ff(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hr(e,t){return typeof e=="function"?e(t):e}function lt(e,t){return typeof e=="function"?e(t):e}function _f(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==_o(a,t.options))return!1}else if(!Ls(t.queryKey,a))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function If(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Qr(t.options.mutationKey)!==Qr(i))return!1}else if(!Ls(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function _o(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qr)(e)}function Qr(e){return JSON.stringify(e,(t,r)=>Io(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ls(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ls(e[r],t[r])):!1}var k0=Object.prototype.hasOwnProperty;function Lf(e,t){if(e===t)return e;const r=zf(e)&&zf(t);if(!r&&!(Io(e)&&Io(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),a=i.length,o=r?new Array(a):{};let u=0;for(let c=0;c<a;c++){const g=r?c:i[c],h=e[g],y=t[g];if(h===y){o[g]=h,(r?c<s:k0.call(e,g))&&u++;continue}if(h===null||y===null||typeof h!="object"||typeof y!="object"){o[g]=y;continue}const w=Lf(h,y);o[g]=w,w===h&&u++}return s===a&&u===s?e:o}function fl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function zf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Io(e){if(!Bf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Bf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Bf(e){return Object.prototype.toString.call(e)==="[object Object]"}function b0(e){return new Promise(t=>{$r.setTimeout(t,e)})}function Lo(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Lf(e,t):t}function S0(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function C0(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var zo=Symbol();function $f(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zo?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Uf(e,t){return typeof e=="function"?e(...t):!!e}var E0=(Fh=class extends Dn{constructor(){super();B(this,Vr);B(this,yr);B(this,In);_(this,In,t=>{if(!Ur&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){p(this,yr)||this.setEventListener(p(this,In))}onUnsubscribe(){var t;this.hasListeners()||((t=p(this,yr))==null||t.call(this),_(this,yr,void 0))}setEventListener(t){var r;_(this,In,t),(r=p(this,yr))==null||r.call(this),_(this,yr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){p(this,Vr)!==t&&(_(this,Vr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof p(this,Vr)=="boolean"?p(this,Vr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vr=new WeakMap,yr=new WeakMap,In=new WeakMap,Fh),Bo=new E0;function $o(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var P0=N0;function T0(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=P0;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var ve=T0(),M0=(_h=class extends Dn{constructor(){super();B(this,Ln,!0);B(this,xr);B(this,zn);_(this,zn,t=>{if(!Ur&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){p(this,xr)||this.setEventListener(p(this,zn))}onUnsubscribe(){var t;this.hasListeners()||((t=p(this,xr))==null||t.call(this),_(this,xr,void 0))}setEventListener(t){var r;_(this,zn,t),(r=p(this,xr))==null||r.call(this),_(this,xr,t(this.setOnline.bind(this)))}setOnline(t){p(this,Ln)!==t&&(_(this,Ln,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return p(this,Ln)}},Ln=new WeakMap,xr=new WeakMap,zn=new WeakMap,_h),hl=new M0;function O0(e){return Math.min(1e3*2**e,3e4)}function Qf(e){return(e??"online")==="online"?hl.isOnline():!0}var Uo=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Wf(e){let t=!1,r=0,n;const s=$o(),i=()=>s.status!=="pending",a=v=>{var b;if(!i()){const m=new Uo(v);y(m),(b=e.onCancel)==null||b.call(e,m)}},o=()=>{t=!0},u=()=>{t=!1},c=()=>Bo.isFocused()&&(e.networkMode==="always"||hl.isOnline())&&e.canRun(),g=()=>Qf(e.networkMode)&&e.canRun(),h=v=>{i()||(n==null||n(),s.resolve(v))},y=v=>{i()||(n==null||n(),s.reject(v))},w=()=>new Promise(v=>{var b;n=m=>{(i()||c())&&v(m)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),j=()=>{if(i())return;let v;const b=r===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(m){v=Promise.reject(m)}Promise.resolve(v).then(h).catch(m=>{var k;if(i())return;const d=e.retry??(Ur?0:3),f=e.retryDelay??O0,x=typeof f=="function"?f(r,m):f,S=d===!0||typeof d=="number"&&r<d||typeof d=="function"&&d(r,m);if(t||!S){y(m);return}r++,(k=e.onFail)==null||k.call(e,r,m),b0(x).then(()=>c()?void 0:w()).then(()=>{t?y(m):j()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:o,continueRetry:u,canStart:g,start:()=>(g()?j():w().then(j),s)}}var Hf=(Ih=class{constructor(){B(this,Yr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fo(this.gcTime)&&_(this,Yr,$r.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ur?1/0:5*60*1e3))}clearGcTimeout(){p(this,Yr)&&($r.clearTimeout(p(this,Yr)),_(this,Yr,void 0))}},Yr=new WeakMap,Ih),D0=(Lh=class extends Hf{constructor(t){super();B(this,yt);B(this,Kr);B(this,Bn);B(this,ot);B(this,Gr);B(this,ke);B(this,Hs);B(this,Xr);_(this,Xr,!1),_(this,Hs,t.defaultOptions),this.setOptions(t.options),this.observers=[],_(this,Gr,t.client),_(this,ot,p(this,Gr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_(this,Kr,Vf(this.options)),this.state=t.state??p(this,Kr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=p(this,ke))==null?void 0:t.promise}setOptions(t){if(this.options={...p(this,Hs),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Vf(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),_(this,Kr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&p(this,ot).remove(this)}setData(t,r){const n=Lo(this.state.data,t,this.options);return H(this,yt,qt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){H(this,yt,qt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=p(this,ke))==null?void 0:n.promise;return(s=p(this,ke))==null||s.cancel(t),r?r.then(_e).catch(_e):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(p(this,Kr))}isActive(){return this.observers.some(t=>lt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>hr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ff(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=p(this,ke))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=p(this,ke))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),p(this,ot).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(p(this,ke)&&(p(this,Xr)?p(this,ke).cancel({revert:!0}):p(this,ke).cancelRetry()),this.scheduleGc()),p(this,ot).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||H(this,yt,qt).call(this,{type:"invalidate"})}async fetch(t,r){var u,c,g,h,y,w,j,v,b,m,d,f;if(this.state.fetchStatus!=="idle"&&((u=p(this,ke))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(p(this,ke))return p(this,ke).continueRetry(),p(this,ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(S=>S.options.queryFn);x&&this.setOptions(x.options)}const n=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(_(this,Xr,!0),n.signal)})},i=()=>{const x=$f(this.options,r),k=(()=>{const O={client:p(this,Gr),queryKey:this.queryKey,meta:this.meta};return s(O),O})();return _(this,Xr,!1),this.options.persister?this.options.persister(x,k,this):x(k)},o=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:p(this,Gr),state:this.state,fetchFn:i};return s(x),x})();(c=this.options.behavior)==null||c.onFetch(o,this),_(this,Bn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=o.fetchOptions)==null?void 0:g.meta))&&H(this,yt,qt).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),_(this,ke,Wf({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:x=>{x instanceof Uo&&x.revert&&this.setState({...p(this,Bn),fetchStatus:"idle"}),n.abort()},onFail:(x,S)=>{H(this,yt,qt).call(this,{type:"failed",failureCount:x,error:S})},onPause:()=>{H(this,yt,qt).call(this,{type:"pause"})},onContinue:()=>{H(this,yt,qt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const x=await p(this,ke).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(w=(y=p(this,ot).config).onSuccess)==null||w.call(y,x,this),(v=(j=p(this,ot).config).onSettled)==null||v.call(j,x,this.state.error,this),x}catch(x){if(x instanceof Uo){if(x.silent)return p(this,ke).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw H(this,yt,qt).call(this,{type:"error",error:x}),(m=(b=p(this,ot).config).onError)==null||m.call(b,x,this),(f=(d=p(this,ot).config).onSettled)==null||f.call(d,this.state.data,x,this),x}finally{this.scheduleGc()}}},Kr=new WeakMap,Bn=new WeakMap,ot=new WeakMap,Gr=new WeakMap,ke=new WeakMap,Hs=new WeakMap,Xr=new WeakMap,yt=new WeakSet,qt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qf(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _(this,Bn,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ve.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),p(this,ot).notify({query:this,type:"updated",action:t})})},Lh);function qf(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qf(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Vf(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var R0=(zh=class extends Dn{constructor(t,r){super();B(this,X);B(this,He);B(this,K);B(this,qs);B(this,Ie);B(this,Jr);B(this,$n);B(this,$t);B(this,vr);B(this,Vs);B(this,Un);B(this,Qn);B(this,Zr);B(this,en);B(this,wr);B(this,Wn,new Set);this.options=r,_(this,He,t),_(this,vr,null),_(this,$t,$o()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(p(this,K).addObserver(this),Yf(p(this,K),this.options)?H(this,X,Xs).call(this):this.updateResult(),H(this,X,uu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qo(p(this,K),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qo(p(this,K),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,H(this,X,cu).call(this),H(this,X,du).call(this),p(this,K).removeObserver(this)}setOptions(t){const r=this.options,n=p(this,K);if(this.options=p(this,He).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof lt(this.options.enabled,p(this,K))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");H(this,X,fu).call(this),p(this,K).setOptions(this.options),r._defaulted&&!fl(this.options,r)&&p(this,He).getQueryCache().notify({type:"observerOptionsUpdated",query:p(this,K),observer:this});const s=this.hasListeners();s&&Kf(p(this,K),n,this.options,r)&&H(this,X,Xs).call(this),this.updateResult(),s&&(p(this,K)!==n||lt(this.options.enabled,p(this,K))!==lt(r.enabled,p(this,K))||hr(this.options.staleTime,p(this,K))!==hr(r.staleTime,p(this,K)))&&H(this,X,lu).call(this);const i=H(this,X,au).call(this);s&&(p(this,K)!==n||lt(this.options.enabled,p(this,K))!==lt(r.enabled,p(this,K))||i!==p(this,wr))&&H(this,X,ou).call(this,i)}getOptimisticResult(t){const r=p(this,He).getQueryCache().build(p(this,He),t),n=this.createResult(r,t);return F0(this,n)&&(_(this,Ie,n),_(this,$n,this.options),_(this,Jr,p(this,K).state)),n}getCurrentResult(){return p(this,Ie)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&!this.options.experimental_prefetchInRender&&p(this,$t).status==="pending"&&p(this,$t).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,s))})}trackProp(t){p(this,Wn).add(t)}getCurrentQuery(){return p(this,K)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=p(this,He).defaultQueryOptions(t),n=p(this,He).getQueryCache().build(p(this,He),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return H(this,X,Xs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),p(this,Ie)))}createResult(t,r){var U;const n=p(this,K),s=this.options,i=p(this,Ie),a=p(this,Jr),o=p(this,$n),c=t!==n?t.state:p(this,qs),{state:g}=t;let h={...g},y=!1,w;if(r._optimisticResults){const N=this.hasListeners(),P=!N&&Yf(t,r),C=N&&Kf(t,n,r,s);(P||C)&&(h={...h,...qf(g.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:j,errorUpdatedAt:v,status:b}=h;w=h.data;let m=!1;if(r.placeholderData!==void 0&&w===void 0&&b==="pending"){let N;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(N=i.data,m=!0):N=typeof r.placeholderData=="function"?r.placeholderData((U=p(this,Qn))==null?void 0:U.state.data,p(this,Qn)):r.placeholderData,N!==void 0&&(b="success",w=Lo(i==null?void 0:i.data,N,r),y=!0)}if(r.select&&w!==void 0&&!m)if(i&&w===(a==null?void 0:a.data)&&r.select===p(this,Vs))w=p(this,Un);else try{_(this,Vs,r.select),w=r.select(w),w=Lo(i==null?void 0:i.data,w,r),_(this,Un,w),_(this,vr,null)}catch(N){_(this,vr,N)}p(this,vr)&&(j=p(this,vr),w=p(this,Un),v=Date.now(),b="error");const d=h.fetchStatus==="fetching",f=b==="pending",x=b==="error",S=f&&d,k=w!==void 0,M={status:b,fetchStatus:h.fetchStatus,isPending:f,isSuccess:b==="success",isError:x,isInitialLoading:S,isLoading:S,data:w,dataUpdatedAt:h.dataUpdatedAt,error:j,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:d,isRefetching:d&&!f,isLoadingError:x&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:x&&k,isStale:Wo(t,r),refetch:this.refetch,promise:p(this,$t),isEnabled:lt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=R=>{M.status==="error"?R.reject(M.error):M.data!==void 0&&R.resolve(M.data)},P=()=>{const R=_(this,$t,M.promise=$o());N(R)},C=p(this,$t);switch(C.status){case"pending":t.queryHash===n.queryHash&&N(C);break;case"fulfilled":(M.status==="error"||M.data!==C.value)&&P();break;case"rejected":(M.status!=="error"||M.error!==C.reason)&&P();break}}return M}updateResult(){const t=p(this,Ie),r=this.createResult(p(this,K),this.options);if(_(this,Jr,p(this,K).state),_(this,$n,this.options),p(this,Jr).data!==void 0&&_(this,Qn,p(this,K)),fl(r,t))return;_(this,Ie,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!p(this,Wn).size)return!0;const a=new Set(i??p(this,Wn));return this.options.throwOnError&&a.add("error"),Object.keys(p(this,Ie)).some(o=>{const u=o;return p(this,Ie)[u]!==t[u]&&a.has(u)})};H(this,X,qh).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&H(this,X,uu).call(this)}},He=new WeakMap,K=new WeakMap,qs=new WeakMap,Ie=new WeakMap,Jr=new WeakMap,$n=new WeakMap,$t=new WeakMap,vr=new WeakMap,Vs=new WeakMap,Un=new WeakMap,Qn=new WeakMap,Zr=new WeakMap,en=new WeakMap,wr=new WeakMap,Wn=new WeakMap,X=new WeakSet,Xs=function(t){H(this,X,fu).call(this);let r=p(this,K).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(_e)),r},lu=function(){H(this,X,cu).call(this);const t=hr(this.options.staleTime,p(this,K));if(Ur||p(this,Ie).isStale||!Fo(t))return;const n=Ff(p(this,Ie).dataUpdatedAt,t)+1;_(this,Zr,$r.setTimeout(()=>{p(this,Ie).isStale||this.updateResult()},n))},au=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(p(this,K)):this.options.refetchInterval)??!1},ou=function(t){H(this,X,du).call(this),_(this,wr,t),!(Ur||lt(this.options.enabled,p(this,K))===!1||!Fo(p(this,wr))||p(this,wr)===0)&&_(this,en,$r.setInterval(()=>{(this.options.refetchIntervalInBackground||Bo.isFocused())&&H(this,X,Xs).call(this)},p(this,wr)))},uu=function(){H(this,X,lu).call(this),H(this,X,ou).call(this,H(this,X,au).call(this))},cu=function(){p(this,Zr)&&($r.clearTimeout(p(this,Zr)),_(this,Zr,void 0))},du=function(){p(this,en)&&($r.clearInterval(p(this,en)),_(this,en,void 0))},fu=function(){const t=p(this,He).getQueryCache().build(p(this,He),this.options);if(t===p(this,K))return;const r=p(this,K);_(this,K,t),_(this,qs,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},qh=function(t){ve.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(p(this,Ie))}),p(this,He).getQueryCache().notify({query:p(this,K),type:"observerResultsUpdated"})})},zh);function A0(e,t){return lt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yf(e,t){return A0(e,t)||e.state.data!==void 0&&Qo(e,t,t.refetchOnMount)}function Qo(e,t,r){if(lt(t.enabled,e)!==!1&&hr(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Wo(e,t)}return!1}function Kf(e,t,r,n){return(e!==t||lt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Wo(e,r)}function Wo(e,t){return lt(t.enabled,e)!==!1&&e.isStaleByTime(hr(t.staleTime,e))}function F0(e,t){return!fl(e.getCurrentResult(),t)}function Gf(e){return{onFetch:(t,r)=>{var g,h,y,w,j;const n=t.options,s=(y=(h=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:h.fetchMore)==null?void 0:y.direction,i=((w=t.state.data)==null?void 0:w.pages)||[],a=((j=t.state.data)==null?void 0:j.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let v=!1;const b=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},m=$f(t.options,t.fetchOptions),d=async(f,x,S)=>{if(v)return Promise.reject();if(x==null&&f.pages.length)return Promise.resolve(f);const O=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:x,direction:S?"backward":"forward",meta:t.options.meta};return b(P),P})(),M=await m(O),{maxPages:U}=t.options,N=S?C0:S0;return{pages:N(f.pages,M,U),pageParams:N(f.pageParams,x,U)}};if(s&&i.length){const f=s==="backward",x=f?_0:Xf,S={pages:i,pageParams:a},k=x(n,S);o=await d(S,k,f)}else{const f=e??i.length;do{const x=u===0?a[0]??n.initialPageParam:Xf(n,o);if(u>0&&x==null)break;o=await d(o,x),u++}while(u<f)}return o};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Xf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function _0(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var I0=(Bh=class extends Hf{constructor(t){super();B(this,Pt);B(this,Ys);B(this,Et);B(this,Le);B(this,tn);_(this,Ys,t.client),this.mutationId=t.mutationId,_(this,Le,t.mutationCache),_(this,Et,[]),this.state=t.state||Jf(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){p(this,Et).includes(t)||(p(this,Et).push(t),this.clearGcTimeout(),p(this,Le).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_(this,Et,p(this,Et).filter(r=>r!==t)),this.scheduleGc(),p(this,Le).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){p(this,Et).length||(this.state.status==="pending"?this.scheduleGc():p(this,Le).remove(this))}continue(){var t;return((t=p(this,tn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,u,c,g,h,y,w,j,v,b,m,d,f,x,S,k,O,M,U;const r=()=>{H(this,Pt,Sr).call(this,{type:"continue"})},n={client:p(this,Ys),meta:this.options.meta,mutationKey:this.options.mutationKey};_(this,tn,Wf({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(N,P)=>{H(this,Pt,Sr).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{H(this,Pt,Sr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>p(this,Le).canRun(this)}));const s=this.state.status==="pending",i=!p(this,tn).canStart();try{if(s)r();else{H(this,Pt,Sr).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=p(this,Le).config).onMutate)==null?void 0:o.call(a,t,this,n));const P=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,n));P!==this.state.context&&H(this,Pt,Sr).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const N=await p(this,tn).start();return await((h=(g=p(this,Le).config).onSuccess)==null?void 0:h.call(g,N,t,this.state.context,this,n)),await((w=(y=this.options).onSuccess)==null?void 0:w.call(y,N,t,this.state.context,n)),await((v=(j=p(this,Le).config).onSettled)==null?void 0:v.call(j,N,null,this.state.variables,this.state.context,this,n)),await((m=(b=this.options).onSettled)==null?void 0:m.call(b,N,null,t,this.state.context,n)),H(this,Pt,Sr).call(this,{type:"success",data:N}),N}catch(N){try{throw await((f=(d=p(this,Le).config).onError)==null?void 0:f.call(d,N,t,this.state.context,this,n)),await((S=(x=this.options).onError)==null?void 0:S.call(x,N,t,this.state.context,n)),await((O=(k=p(this,Le).config).onSettled)==null?void 0:O.call(k,void 0,N,this.state.variables,this.state.context,this,n)),await((U=(M=this.options).onSettled)==null?void 0:U.call(M,void 0,N,t,this.state.context,n)),N}finally{H(this,Pt,Sr).call(this,{type:"error",error:N})}}finally{p(this,Le).runNext(this)}}},Ys=new WeakMap,Et=new WeakMap,Le=new WeakMap,tn=new WeakMap,Pt=new WeakSet,Sr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ve.batch(()=>{p(this,Et).forEach(n=>{n.onMutationUpdate(t)}),p(this,Le).notify({mutation:this,type:"updated",action:t})})},Bh);function Jf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var L0=($h=class extends Dn{constructor(t={}){super();B(this,Ut);B(this,xt);B(this,Ks);this.config=t,_(this,Ut,new Set),_(this,xt,new Map),_(this,Ks,0)}build(t,r,n){const s=new I0({client:t,mutationCache:this,mutationId:++vl(this,Ks)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){p(this,Ut).add(t);const r=ml(t);if(typeof r=="string"){const n=p(this,xt).get(r);n?n.push(t):p(this,xt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(p(this,Ut).delete(t)){const r=ml(t);if(typeof r=="string"){const n=p(this,xt).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&p(this,xt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ml(t);if(typeof r=="string"){const n=p(this,xt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=ml(t);if(typeof r=="string"){const s=(n=p(this,xt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ve.batch(()=>{p(this,Ut).forEach(t=>{this.notify({type:"removed",mutation:t})}),p(this,Ut).clear(),p(this,xt).clear()})}getAll(){return Array.from(p(this,Ut))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>If(r,n))}findAll(t={}){return this.getAll().filter(r=>If(t,r))}notify(t){ve.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ve.batch(()=>Promise.all(t.map(r=>r.continue().catch(_e))))}},Ut=new WeakMap,xt=new WeakMap,Ks=new WeakMap,$h);function ml(e){var t;return(t=e.options.scope)==null?void 0:t.id}var z0=(Uh=class extends Dn{constructor(t,r){super();B(this,Ht);B(this,Qt);B(this,Nr);B(this,qe);B(this,Wt);_(this,Qt,t),this.setOptions(r),this.bindMethods(),H(this,Ht,wl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=p(this,Qt).defaultMutationOptions(t),fl(this.options,r)||p(this,Qt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:p(this,qe),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qr(r.mutationKey)!==Qr(this.options.mutationKey)?this.reset():((n=p(this,qe))==null?void 0:n.state.status)==="pending"&&p(this,qe).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=p(this,qe))==null||t.removeObserver(this)}onMutationUpdate(t){H(this,Ht,wl).call(this),H(this,Ht,hu).call(this,t)}getCurrentResult(){return p(this,Nr)}reset(){var t;(t=p(this,qe))==null||t.removeObserver(this),_(this,qe,void 0),H(this,Ht,wl).call(this),H(this,Ht,hu).call(this)}mutate(t,r){var n;return _(this,Wt,r),(n=p(this,qe))==null||n.removeObserver(this),_(this,qe,p(this,Qt).getMutationCache().build(p(this,Qt),this.options)),p(this,qe).addObserver(this),p(this,qe).execute(t)}},Qt=new WeakMap,Nr=new WeakMap,qe=new WeakMap,Wt=new WeakMap,Ht=new WeakSet,wl=function(){var r;const t=((r=p(this,qe))==null?void 0:r.state)??Jf();_(this,Nr,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},hu=function(t){ve.batch(()=>{var r,n,s,i,a,o,u,c;if(p(this,Wt)&&this.hasListeners()){const g=p(this,Nr).variables,h=p(this,Nr).context,y={client:p(this,Qt),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((n=(r=p(this,Wt)).onSuccess)==null||n.call(r,t.data,g,h,y),(i=(s=p(this,Wt)).onSettled)==null||i.call(s,t.data,null,g,h,y)):(t==null?void 0:t.type)==="error"&&((o=(a=p(this,Wt)).onError)==null||o.call(a,t.error,g,h,y),(c=(u=p(this,Wt)).onSettled)==null||c.call(u,void 0,t.error,g,h,y))}this.listeners.forEach(g=>{g(p(this,Nr))})})},Uh),B0=(Qh=class extends Dn{constructor(t={}){super();B(this,Tt);this.config=t,_(this,Tt,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??_o(s,r);let a=this.get(i);return a||(a=new D0({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){p(this,Tt).has(t.queryHash)||(p(this,Tt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=p(this,Tt).get(t.queryHash);r&&(t.destroy(),r===t&&p(this,Tt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ve.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return p(this,Tt).get(t)}getAll(){return[...p(this,Tt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_f(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>_f(t,n)):r}notify(t){ve.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ve.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ve.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tt=new WeakMap,Qh),$0=(Wh=class{constructor(e={}){B(this,fe);B(this,jr);B(this,kr);B(this,Hn);B(this,qn);B(this,br);B(this,Vn);B(this,Yn);_(this,fe,e.queryCache||new B0),_(this,jr,e.mutationCache||new L0),_(this,kr,e.defaultOptions||{}),_(this,Hn,new Map),_(this,qn,new Map),_(this,br,0)}mount(){vl(this,br)._++,p(this,br)===1&&(_(this,Vn,Bo.subscribe(async e=>{e&&(await this.resumePausedMutations(),p(this,fe).onFocus())})),_(this,Yn,hl.subscribe(async e=>{e&&(await this.resumePausedMutations(),p(this,fe).onOnline())})))}unmount(){var e,t;vl(this,br)._--,p(this,br)===0&&((e=p(this,Vn))==null||e.call(this),_(this,Vn,void 0),(t=p(this,Yn))==null||t.call(this),_(this,Yn,void 0))}isFetching(e){return p(this,fe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return p(this,jr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=p(this,fe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=p(this,fe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(hr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return p(this,fe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=p(this,fe).get(n.queryHash),i=s==null?void 0:s.state.data,a=j0(t,i);if(a!==void 0)return p(this,fe).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return ve.batch(()=>p(this,fe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=p(this,fe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=p(this,fe);ve.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=p(this,fe);return ve.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ve.batch(()=>p(this,fe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(_e).catch(_e)}invalidateQueries(e,t={}){return ve.batch(()=>(p(this,fe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ve.batch(()=>p(this,fe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(_e)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(_e)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=p(this,fe).build(this,t);return r.isStaleByTime(hr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_e).catch(_e)}fetchInfiniteQuery(e){return e.behavior=Gf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_e).catch(_e)}ensureInfiniteQueryData(e){return e.behavior=Gf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hl.isOnline()?p(this,jr).resumePausedMutations():Promise.resolve()}getQueryCache(){return p(this,fe)}getMutationCache(){return p(this,jr)}getDefaultOptions(){return p(this,kr)}setDefaultOptions(e){_(this,kr,e)}setQueryDefaults(e,t){p(this,Hn).set(Qr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...p(this,Hn).values()],r={};return t.forEach(n=>{Ls(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){p(this,qn).set(Qr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...p(this,qn).values()],r={};return t.forEach(n=>{Ls(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...p(this,kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_o(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zo&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...p(this,kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){p(this,fe).clear(),p(this,jr).clear()}},fe=new WeakMap,jr=new WeakMap,kr=new WeakMap,Hn=new WeakMap,qn=new WeakMap,br=new WeakMap,Vn=new WeakMap,Yn=new WeakMap,Wh),Zf=E.createContext(void 0),zs=e=>{const t=E.useContext(Zf);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},U0=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Zf.Provider,{value:e,children:t})),eh=E.createContext(!1),Q0=()=>E.useContext(eh);eh.Provider;function W0(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var H0=E.createContext(W0()),q0=()=>E.useContext(H0),V0=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Y0=e=>{E.useEffect(()=>{e.clearReset()},[e])},K0=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Uf(r,[e.error,n])),G0=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},X0=(e,t)=>e.isLoading&&e.isFetching&&!t,J0=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,th=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Z0(e,t,r){var h,y,w,j,v;const n=Q0(),s=q0(),i=zs(),a=i.defaultQueryOptions(e);(y=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||y.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",G0(a),V0(a,s),Y0(s);const o=!i.getQueryCache().get(a.queryHash),[u]=E.useState(()=>new t(i,a)),c=u.getOptimisticResult(a),g=!n&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(b=>{const m=g?u.subscribe(ve.batchCalls(b)):_e;return u.updateResult(),m},[u,g]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),E.useEffect(()=>{u.setOptions(a)},[a,u]),J0(a,c))throw th(a,u,s);if(K0({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((j=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||j.call(w,a,c),a.experimental_prefetchInRender&&!Ur&&X0(c,n)){const b=o?th(a,u,s):(v=i.getQueryCache().get(a.queryHash))==null?void 0:v.promise;b==null||b.catch(_e).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function Rn(e,t){return Z0(e,R0)}function Ho(e,t){const r=zs(),[n]=E.useState(()=>new z0(r,e));E.useEffect(()=>{n.setOptions(e)},[n,e]);const s=E.useSyncExternalStore(E.useCallback(a=>n.subscribe(ve.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=E.useCallback((a,o)=>{n.mutate(a,o).catch(_e)},[n]);if(s.error&&Uf(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}class eg{constructor(t,r){this.currentSession=null,this.refreshTimeout=null,this.apiBaseUrl=t.replace(/\/$/,""),this.developerApiKey=r,this.loadSessionFromStorage()}async getSessionToken(){if(this.currentSession?this.isTokenCloseToExpiry()&&await this.refreshSession():await this.createSession(),!this.currentSession)throw new Error("Failed to obtain session token");return this.currentSession.token}async createSession(){var t,r;try{const n=await fetch(`${this.apiBaseUrl}/api/auth/widget-session`,{method:"POST",headers:{Authorization:`Bearer ${this.developerApiKey}`,"Content-Type":"application/json"}});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(`Session creation failed: ${((t=a.errors)==null?void 0:t[0])||n.statusText}`)}const s=await n.json();if(!s.success||!s.sessionToken||!s.expiresIn)throw new Error(`Session creation failed: ${((r=s.errors)==null?void 0:r[0])||"Unknown error"}`);const i=Date.now()+s.expiresIn*1e3;this.currentSession={token:s.sessionToken,expiresAt:i,scopes:s.scopes||[]},this.saveSessionToStorage(),this.scheduleRefresh()}catch(n){throw console.error("Failed to create session:",n),n}}async refreshSession(){if(!this.currentSession)return this.createSession();try{const t=await fetch(`${this.apiBaseUrl}/api/auth/refresh-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:this.currentSession.token})});if(!t.ok)return console.warn("Session refresh failed, creating new session"),this.createSession();const r=await t.json();if(!r.success||!r.sessionToken||!r.expiresIn)return console.warn("Session refresh failed, creating new session"),this.createSession();const n=Date.now()+r.expiresIn*1e3;this.currentSession={...this.currentSession,token:r.sessionToken,expiresAt:n},this.saveSessionToStorage(),this.scheduleRefresh()}catch(t){return console.error("Failed to refresh session, creating new session:",t),this.createSession()}}isTokenCloseToExpiry(){if(!this.currentSession)return!0;const t=5*60*1e3;return Date.now()+t>=this.currentSession.expiresAt}scheduleRefresh(){if(this.refreshTimeout&&clearTimeout(this.refreshTimeout),!this.currentSession)return;const t=5*60*1e3,r=this.currentSession.expiresAt-Date.now()-t;r>0&&(this.refreshTimeout=setTimeout(()=>{this.refreshSession().catch(console.error)},r))}saveSessionToStorage(){if(this.currentSession)try{const t={token:this.currentSession.token,expiresAt:this.currentSession.expiresAt,scopes:this.currentSession.scopes};localStorage.setItem("booking-widget-session",JSON.stringify(t))}catch(t){console.warn("Failed to save session to localStorage:",t)}}loadSessionFromStorage(){try{const t=localStorage.getItem("booking-widget-session");if(!t)return;const r=JSON.parse(t);r.expiresAt&&Date.now()<r.expiresAt?(this.currentSession={token:r.token,expiresAt:r.expiresAt,scopes:r.scopes||[]},this.scheduleRefresh()):localStorage.removeItem("booking-widget-session")}catch(t){console.warn("Failed to load session from localStorage:",t),localStorage.removeItem("booking-widget-session")}}clearSession(){this.currentSession=null,this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null);try{localStorage.removeItem("booking-widget-session")}catch(t){console.warn("Failed to clear session from localStorage:",t)}}async authenticatedFetch(t,r={}){const n=await this.getSessionToken(),s={...r,headers:{...r.headers,Authorization:`Bearer ${n}`}},i=await fetch(t,s);if(i.status===401&&this.currentSession){console.log("Received 401, attempting to refresh token..."),this.currentSession=null;const a=await this.getSessionToken(),o={...r,headers:{...r.headers,Authorization:`Bearer ${a}`}};return fetch(t,o)}return i}getCurrentSession(){return this.currentSession}}const rh=E.createContext(void 0);function nh(){const e=E.useContext(rh);if(!e)throw new Error("useAuthContext must be used within BookingAuthContext.Provider");return e}function pl(){const{apiBaseUrl:e,token:t,developerApiKey:r}=nh(),n=E.useRef(null);return E.useEffect(()=>{r&&e?n.current=new eg(e,r):n.current=null},[r,e]),E.useCallback(async(s,i)=>{const a=s.startsWith("http")?s:`${e}${s}`;if(n.current&&r)try{const u={...i==null?void 0:i.headers};return t&&(u["X-Client-Authorization"]=`Bearer ${t}`),await n.current.authenticatedFetch(a,{...i,headers:u})}catch(u){throw console.error("Authentication with developer API key failed:",u),u}const o={"Content-Type":"application/json"};return t&&(o.Authorization=`Bearer ${t}`),fetch(a,{...i,headers:{...o,...i==null?void 0:i.headers}})},[e,t,r])}function Bs(){const e=nh();return{isAuthenticated:!!(e.token||e.developerApiKey),organisationId:e.organisationId,hasValidAuth:!!((e.token||e.developerApiKey)&&e.organisationId),authMethod:e.developerApiKey?"developer-api-key":e.token?"jwt-token":"none"}}function tg(e,t="/api"){return Rn({queryKey:["widget-config",e],queryFn:async()=>{const r=`${t}/api/widget/organisations/${e}/config`,n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const s=await n.json().catch(()=>({}));throw new Error(s.error||`Failed to fetch widget configuration: ${n.statusText}`)}return n.json()},enabled:!!e,staleTime:3e5,gcTime:6e5,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:!0})}var rg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ng=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var V=(e,t)=>{const r=E.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:o,...u},c)=>E.createElement("svg",{ref:c,...rg,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${ng(e)}`,...u},[...t.map(([g,h])=>E.createElement(g,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r};const mr=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),qo=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Bt=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),gt=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Vo=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Yo=V("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),sh=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ko=V("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Go=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ze=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ih=V("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),lh=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),sg=V("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),ah=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ig=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),lg=V("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Xo=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ag=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),og=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),oh=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ug=V("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),cg=V("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Wr=V("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),dg=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),fg=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),uh=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ch=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),dh=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),hg=V("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),mg=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),pg=V("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),gl=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fh=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),gg=V("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),yg=V("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Jo=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Zo=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hh=(e,t,r,n=!0,s)=>{const i=pl(),{hasValidAuth:a}=Bs();return Rn({queryKey:["availability",e,t.start,t.end,r,s],queryFn:async()=>{var g;if(!a)throw new Error("Authentication required");const o=new URLSearchParams({startDate:t.start,endDate:t.end});r&&r.length>0&&o.append("serviceIds",r.join(",")),s&&o.append("excludeBookingId",s);const u=await i(`/api/widget/resources/${e}/availability?${o}`),c=await u.json();if(!u.ok)throw new Error(((g=c.errors)==null?void 0:g[0])||c.error||`HTTP ${u.status}: Failed to fetch availability`);return c},enabled:n&&!!(e&&t.start&&t.end),refetchInterval:3e4,staleTime:1e4,retry:2,refetchOnWindowFocus:!0})},xg=(e,t=!0)=>{const r=pl(),{hasValidAuth:n}=Bs();return Rn({queryKey:["resources",e],queryFn:async()=>{var a;if(!n)throw new Error("Authentication required");const s=await r(`/api/widget/organisations/${e}/resources`),i=await s.json();if(!s.ok)throw new Error(((a=i.errors)==null?void 0:a[0])||i.error||`HTTP ${s.status}: Failed to fetch resources`);return i},enabled:t&&!!e,staleTime:5*60*1e3,retry:2})},vg=(e,t=!0)=>{const r=pl(),{hasValidAuth:n}=Bs();return Rn({queryKey:["products",e],queryFn:async()=>{var a;if(!n)throw new Error("Authentication required");const s=await r(`/api/widget/resources/${e}/products`),i=await s.json();if(!s.ok)throw new Error(((a=i.errors)==null?void 0:a[0])||i.error||`HTTP ${s.status}: Failed to fetch products`);return i},enabled:t&&!!e,refetchInterval:6e4,staleTime:3e4,retry:2})},wg=()=>{const e=pl(),{hasValidAuth:t}=Bs(),r=zs();return Ho({mutationFn:async n=>{var o;if(!t)throw new Error("Authentication required");const s={resourceId:n.resourceId,startTime:n.startTime,...n.serviceIds&&n.serviceIds.length>0?{serviceIds:n.serviceIds}:{endTime:n.endTime},customerName:n.customerName,customerEmail:n.customerEmail,customerPhone:n.customerPhone,metadata:n.metadata,...n.productClaims&&n.productClaims.length>0&&{productClaims:n.productClaims}},i=await e("/api/widget/bookings",{method:"POST",body:JSON.stringify(s)}),a=await i.json();if(!i.ok)throw new Error(((o=a.errors)==null?void 0:o[0])||a.error||`HTTP ${i.status}: ${i.statusText}`);return a},onSuccess:(n,s)=>{r.invalidateQueries({queryKey:["availability",s.resourceId]}),r.invalidateQueries({queryKey:["products",s.resourceId]}),r.invalidateQueries({queryKey:["user-bookings"]}),r.invalidateQueries({queryKey:["client-bookings"]})},retry:1})};function mh(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=mh(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ph(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=mh(e))&&(n&&(n+=" "),n+=t);return n}const Ng={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"},jg={primary:"text-blue-600",secondary:"text-indigo-600",gray:"text-gray-400"},An=({size:e="md",className:t,color:r="primary"})=>l.jsx("div",{className:ph("animate-spin rounded-full border-2 border-current border-t-transparent",Ng[e],jg[r],t),role:"status","aria-label":"Loading",children:l.jsx("span",{className:"sr-only",children:"Loading..."})}),kg=({resource:e,isSelected:t,onSelect:r})=>{const n=e.isActive,s=n?null:"Tomorrow at 9:00 AM";return l.jsxs("div",{className:`
        border rounded-lg p-3 md:p-4 cursor-pointer transition-all duration-200
        ${t?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
      `,onClick:r,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 gap-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(gt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 mr-2 sm:mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm md:text-base text-gray-900",children:e.name}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:e.type})]})]}),l.jsx("div",{className:"flex items-center flex-shrink-0",children:n?l.jsxs("div",{className:"flex items-center text-green-600",children:[l.jsx(Vo,{className:"w-4 h-4 mr-1"}),l.jsx("span",{className:"text-xs font-medium",children:"Available"})]}):l.jsxs("div",{className:"flex items-center text-orange-600",children:[l.jsx(Jo,{className:"w-4 h-4 mr-1"}),l.jsx("span",{className:"text-xs font-medium",children:"Busy"})]})})]}),l.jsxs("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4",children:[e.location&&l.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-600",children:[l.jsx(oh,{className:"w-3 h-3 md:w-4 md:h-4 mr-2 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:e.location})]}),l.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-600",children:[l.jsx(fh,{className:"w-3 h-3 md:w-4 md:h-4 mr-2 flex-shrink-0"}),"Capacity: ",e.capacity," people"]}),e.operatingHours&&l.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-600",children:[l.jsx(Ze,{className:"w-3 h-3 md:w-4 md:h-4 mr-2 flex-shrink-0"}),e.operatingHours.start," - ",e.operatingHours.end]}),e.availableProducts&&e.availableProducts>0&&l.jsxs("div",{className:"flex items-center text-xs md:text-sm text-green-600",children:[l.jsx(Wr,{className:"w-3 h-3 md:w-4 md:h-4 mr-2 flex-shrink-0"}),e.availableProducts," products available"]}),!n&&s&&l.jsxs("div",{className:"flex items-center text-xs md:text-sm text-orange-600",children:[l.jsx(Ze,{className:"w-3 h-3 md:w-4 md:h-4 mr-2 flex-shrink-0"}),"Next available: ",s]})]}),e.amenities&&e.amenities.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mb-2 md:mb-3",children:[e.amenities.slice(0,3).map((i,a)=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:i},a)),e.amenities.length>3&&l.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.amenities.length-3," more"]})]})]}),t&&l.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center ml-3",children:l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),l.jsx("button",{className:`
          w-full py-2 px-4 rounded-lg text-sm md:text-base font-medium transition-colors
          ${t?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
        `,children:t?"Selected":"Select This Resource"})]})},bg=({onResourceSelect:e,selectedResource:t})=>{var v;const{organisationId:r}=Bs(),{data:n,isLoading:s,error:i}=xg(r),[a,o]=E.useState(""),[u,c]=E.useState("all"),[g,h]=E.useState(!1),y=E.useMemo(()=>n!=null&&n.data?Array.from(new Set(n.data.map(m=>m.type))).sort():[],[n==null?void 0:n.data]),w=E.useMemo(()=>n!=null&&n.data?n.data.filter(b=>{var x;const m=a===""||b.name.toLowerCase().includes(a.toLowerCase())||((x=b.location)==null?void 0:x.toLowerCase().includes(a.toLowerCase()))||b.type.toLowerCase().includes(a.toLowerCase()),d=u==="all"||b.type===u,f=!g||b.isActive;return m&&d&&f}):[],[n==null?void 0:n.data,a,u,g]),j=b=>{e(b)};return s?l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Resource"}),l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(An,{size:"lg"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading resources..."})]})]}):i?l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Resource"}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-red-600 mb-2",children:"Failed to load resources"}),l.jsx("div",{className:"text-sm text-gray-600",children:i.message})]})]}):!n||!n.data||n.data.length===0?l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Resource"}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("div",{className:"text-gray-600 mb-2",children:"No resources available"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Please contact support if this seems incorrect."})]})]}):l.jsxs("div",{className:"p-4 md:p-6",children:[l.jsxs("div",{className:"mb-4 md:mb-6",children:[l.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2",children:"Select Resource"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Choose the resource you want to book for your session."})]}),l.jsxs("div",{className:"mb-4 md:mb-6 space-y-3 md:space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search resources by name, location, or type...",className:"w-full pl-10 pr-4 py-2 text-sm md:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:a,onChange:b=>o(b.target.value)})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ig,{className:"w-4 h-4 text-gray-500"}),l.jsxs("select",{value:u,onChange:b=>c(b.target.value),className:"border border-gray-300 rounded px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Types"}),y.map(b=>l.jsx("option",{value:b,children:b},b))]})]}),l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:g,onChange:b=>h(b.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Available only"})]}),l.jsxs("div",{className:"text-sm text-gray-500 ml-auto",children:[w.length," of ",((v=n==null?void 0:n.data)==null?void 0:v.length)||0," resources"]})]})]}),w.length>0?l.jsx("div",{className:"space-y-4",children:w.map(b=>l.jsx(kg,{resource:b,isSelected:(t==null?void 0:t.id)===b.id,onSelect:()=>j(b)},b.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("div",{className:"text-gray-600 mb-2",children:"No resources match your filters"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Try adjusting your search terms or filters."}),l.jsx("button",{onClick:()=>{o(""),c("all"),h(!1)},className:"mt-3 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Clear all filters"})]}),t&&l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:l.jsxs("button",{onClick:()=>e(t),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:["Continue with ",t.name]})})]})},Sg=({onSearch:e,placeholder:t="Search services...",debounceMs:r=300})=>{const[n,s]=E.useState("");E.useEffect(()=>{const a=setTimeout(()=>{e(n)},r);return()=>clearTimeout(a)},[n,r,e]);const i=E.useCallback(()=>{s("")},[]);return l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"relative",children:[l.jsx(dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:n,onChange:a=>s(a.target.value),placeholder:t,className:"w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),n&&l.jsx("button",{onClick:i,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:l.jsx(Zo,{className:"w-4 h-4"})})]})})},Cg=({categories:e,selectedCategoryId:t,onCategorySelect:r})=>{const n=E.useRef(null),[s,i]=E.useState(!1),[a,o]=E.useState(!1),u=()=>{const h=n.current;h&&(i(h.scrollLeft>0),o(h.scrollLeft<h.scrollWidth-h.clientWidth-1))};E.useEffect(()=>{u();const h=n.current;if(h)return h.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{h.removeEventListener("scroll",u),window.removeEventListener("resize",u)}},[e]);const c=h=>{const y=n.current;if(!y)return;const w=200;y.scrollBy({left:h==="left"?-w:w,behavior:"smooth"})},g=e.reduce((h,y)=>h+y.count,0);return l.jsxs("div",{className:"relative",children:[s&&l.jsx("button",{onClick:()=>c("left"),className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 w-8 h-8 bg-white shadow-md rounded-full flex items-center justify-center hover:bg-gray-50","aria-label":"Scroll left",children:l.jsx(Ko,{className:"w-4 h-4 text-gray-600"})}),l.jsxs("div",{ref:n,className:"flex gap-2 overflow-x-auto scrollbar-hide py-1 px-1",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[l.jsxs("button",{onClick:()=>r(null),className:`
            flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap
            ${t===null?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}
          `,children:["All",l.jsxs("span",{className:"ml-1.5 text-xs opacity-75",children:["(",g,")"]})]}),e.map(h=>l.jsxs("button",{onClick:()=>r(h.id),className:`
              flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap flex items-center gap-1.5
              ${t===h.id?"shadow-md text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}
            `,style:t===h.id&&h.color?{backgroundColor:h.color}:{},children:[h.icon&&l.jsx("span",{children:h.icon}),l.jsx("span",{children:h.name}),l.jsxs("span",{className:"ml-0.5 text-xs opacity-75",children:["(",h.count,")"]})]},h.id))]}),a&&l.jsx("button",{onClick:()=>c("right"),className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 w-8 h-8 bg-white shadow-md rounded-full flex items-center justify-center hover:bg-gray-50","aria-label":"Scroll right",children:l.jsx(Go,{className:"w-4 h-4 text-gray-600"})}),l.jsx("style",{jsx:!0,children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `})]})},gh=({label:e,options:t,selectedValue:r,onSelect:n,icon:s})=>{const[i,a]=E.useState(!1),o=E.useRef(null);E.useEffect(()=>{const g=h=>{o.current&&!o.current.contains(h.target)&&a(!1)};if(i)return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[i]);const u=t.find(g=>g.value===r),c=r!=="all";return l.jsxs("div",{className:"relative",ref:o,children:[l.jsxs("button",{onClick:()=>a(!i),className:`
          flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all
          ${c?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}
        `,children:[s&&l.jsx("span",{className:"w-4 h-4",children:s}),l.jsx("span",{children:(u==null?void 0:u.label)||e}),l.jsx(sh,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&l.jsx("div",{className:"absolute top-full mt-2 right-0 w-56 bg-white rounded-lg shadow-xl border border-gray-200 z-50 py-1",children:t.map(g=>l.jsxs("button",{onClick:()=>{n(g.value),a(!1)},className:`
                w-full px-4 py-2.5 text-left text-sm transition-colors flex items-center justify-between
                ${g.value===r?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}
              `,children:[l.jsx("span",{children:g.label}),g.value===r&&l.jsx(Yo,{className:"w-4 h-4"})]},g.value))})]})},Eg=({serviceName:e,description:t,durationMinutes:r,price:n,imageUrl:s,categoryName:i,categoryColor:a,categoryIcon:o,isSelected:u,onToggle:c})=>{const g='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect width="400" height="300" fill="%23f3f4f6"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="24" fill="%239ca3af"%3ENo Image%3C/text%3E%3C/svg%3E';return l.jsxs("div",{onClick:c,className:`
        relative bg-white rounded-lg border-2 cursor-pointer transition-all duration-200 overflow-hidden
        ${u?"border-blue-500 shadow-lg scale-[1.02]":"border-gray-200 hover:border-gray-300 hover:shadow-md"}
      `,children:[l.jsx("div",{className:"absolute top-3 right-3 z-10",children:l.jsx("div",{className:`
            w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all shadow-sm
            ${u?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}
          `,children:u&&l.jsx(Yo,{className:"w-4 h-4 text-white"})})}),l.jsxs("div",{className:"relative h-40 bg-gray-100 overflow-hidden",children:[l.jsx("img",{src:s||g,alt:e,className:"w-full h-full object-cover",onError:h=>{h.target.src=g}}),i&&l.jsx("div",{className:"absolute bottom-2 left-2",children:l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full shadow-sm backdrop-blur-sm",style:{backgroundColor:a?`${a}dd`:"#6b7280dd",color:"#ffffff"},children:[o&&l.jsx("span",{children:o}),i]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-2 line-clamp-2",children:e}),t&&l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Ze,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{children:r===0?"No time":`${r} min`})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(lh,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"font-semibold",children:["R",n.toFixed(2)]})]})]})]})]})},Pg=[{label:"Any Price",value:"all"},{label:"Under R100",value:"0-100"},{label:"R100 - R300",value:"100-300"},{label:"R300 - R500",value:"300-500"},{label:"R500+",value:"500+"}],Tg=[{label:"Any Duration",value:"all"},{label:"Quick (<30min)",value:"0-30"},{label:"Medium (30-60min)",value:"30-60"},{label:"Long (>60min)",value:"60+"}],Mg=({resource:e,selectedServiceIds:t,onServiceSelect:r,onNext:n,onBack:s})=>{const[i,a]=E.useState(t),[o,u]=E.useState(""),[c,g]=E.useState(null),[h,y]=E.useState("all"),[w,j]=E.useState("all"),[v,b]=E.useState([]),[m,d]=E.useState([]),[f,x]=E.useState(!0);E.useEffect(()=>{async function C(){x(!0);try{const R=(e.services||[]).filter(L=>L.isActive),F=R.map(async L=>{try{const T=await fetch(`/api/widget/service-templates/${L.serviceTemplateId}?organisationId=${e.organisationId}`);if(T.ok)return(await T.json()).data}catch(T){console.error("Error fetching template:",T)}return null}),Q=await Promise.all(F),W=new Map;Q.forEach(L=>{L!=null&&L.categoryDetails&&W.set(L.categoryDetails.id,L.categoryDetails)});const we=Array.from(W.values());d(we);const A=R.map((L,T)=>{const $=Q[T],ee=$==null?void 0:$.categoryDetails;return{...L,template:$||void 0,category:ee}});b(A)}catch(R){console.error("Error fetching enhanced service data:",R),b((e.services||[]).filter(F=>F.isActive))}finally{x(!1)}}C()},[e]);const S=E.useMemo(()=>v.filter(C=>{var R,F,Q;if(c&&((R=C.template)==null?void 0:R.categoryId)!==c)return!1;if(o){const W=o.toLowerCase(),we=C.serviceName.toLowerCase().includes(W),A=(Q=(F=C.template)==null?void 0:F.description)==null?void 0:Q.toLowerCase().includes(W);if(!we&&!A)return!1}if(h!=="all"){const W=C.price;if(h==="0-100"&&W>=100||h==="100-300"&&(W<100||W>=300)||h==="300-500"&&(W<300||W>=500)||h==="500+"&&W<500)return!1}if(w!=="all"){const W=C.durationMinutes;if(w==="0-30"&&W>=30||w==="30-60"&&(W<30||W>=60)||w==="60+"&&W<60)return!1}return!0}),[v,c,o,h,w]),k=E.useMemo(()=>m.map(C=>({id:C.id,name:C.name,icon:C.icon,color:C.color,count:v.filter(R=>{var F;return((F=R.template)==null?void 0:F.categoryId)===C.id}).length})),[m,v]),O=C=>{a(R=>R.includes(C)?R.filter(F=>F!==C):[...R,C])},M=()=>{r(i),n()},U=E.useMemo(()=>{const C=v.filter(R=>i.includes(R.serviceTemplateId));return{duration:C.reduce((R,F)=>R+F.durationMinutes,0),price:C.reduce((R,F)=>R+F.price,0),count:C.length}},[i,v]),N=i.length>0,P=c!==null||o!==""||h!=="all"||w!=="all";return f?l.jsx("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading services..."})]})}):l.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Select Services"}),l.jsxs("p",{className:"text-sm md:text-base text-gray-600",children:["Choose one or more services for your booking at ",e.name]})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[k.length>0&&l.jsx(Cg,{categories:k,selectedCategoryId:c,onCategorySelect:g}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Sg,{onSearch:u,placeholder:"Search services by name or description..."})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(gh,{label:"Price",options:Pg,selectedValue:h,onSelect:y,icon:l.jsx(lh,{className:"w-4 h-4"})}),l.jsx(gh,{label:"Duration",options:Tg,selectedValue:w,onSelect:j,icon:l.jsx(Ze,{className:"w-4 h-4"})})]})]})]}),S.length>0?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6",children:S.map(C=>{var R,F,Q,W,we;return l.jsx(Eg,{serviceName:C.serviceName,description:(R=C.template)==null?void 0:R.description,durationMinutes:C.durationMinutes,price:C.price,imageUrl:(F=C.template)==null?void 0:F.imageUrl,categoryName:(Q=C.category)==null?void 0:Q.name,categoryColor:(W=C.category)==null?void 0:W.color,categoryIcon:(we=C.category)==null?void 0:we.icon,isSelected:i.includes(C.serviceTemplateId),onToggle:()=>O(C.serviceTemplateId)},C.serviceTemplateId)})}):l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg mb-6",children:[l.jsx("p",{className:"text-gray-600",children:P?"No services match your filters. Try adjusting your search or filters.":"No services available for this resource"}),P&&l.jsx("button",{onClick:()=>{u(""),g(null),y("all"),j("all")},className:"mt-4 text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Clear all filters"})]}),P&&S.length>0&&l.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",S.length," of ",v.length," services"]}),N&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Selected Services Summary"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"flex items-center justify-between sm:justify-start",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Services:"}),l.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:U.count})]}),l.jsxs("div",{className:"flex items-center justify-between sm:justify-start",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Duration:"}),l.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:U.duration===0?"No time":`${U.duration} min`})]}),l.jsxs("div",{className:"flex items-center justify-between sm:justify-start",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Price:"}),l.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:["R",U.price.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3",children:[l.jsxs("button",{onClick:s,className:"flex items-center justify-center px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Ko,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs("button",{onClick:M,disabled:!N,className:`
            flex items-center justify-center px-6 py-2.5 text-sm font-medium rounded-lg transition-colors
            ${N?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}
          `,children:["Continue to Date Selection",l.jsx(Go,{className:"w-4 h-4 ml-2"})]})]})]})};function ie(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function at(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yh(e,t){const r=ie(e);return isNaN(t)?at(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function xh(e,t){const r=ie(e);if(isNaN(t))return at(e,NaN);if(!t)return r;const n=r.getDate(),s=at(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}function Og(e,t){const r=+ie(e);return at(e,r+t)}const vh=6048e5,Dg=864e5,Rg=6e4;let Ag={};function $s(){return Ag}function Fn(e,t){var o,u,c,g;const r=$s(),n=(t==null?void 0:t.weekStartsOn)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((g=(c=r.locale)==null?void 0:c.options)==null?void 0:g.weekStartsOn)??0,s=ie(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function yl(e){return Fn(e,{weekStartsOn:1})}function wh(e){const t=ie(e),r=t.getFullYear(),n=at(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=yl(n),i=at(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=yl(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Us(e){const t=ie(e);return t.setHours(0,0,0,0),t}function Nh(e){const t=ie(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Fg(e,t){const r=Us(e),n=Us(t),s=+r-Nh(r),i=+n-Nh(n);return Math.round((s-i)/Dg)}function _g(e){const t=wh(e),r=at(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yl(r)}function Ig(e,t){return Og(e,t*Rg)}function jh(e){return at(e,Date.now())}function eu(e,t){const r=Us(e),n=Us(t);return+r==+n}function Lg(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zg(e){if(!Lg(e)&&typeof e!="number")return!1;const t=ie(e);return!isNaN(Number(t))}function kh(e){const t=ie(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Bg(e,t){const r=ie(e.start),n=ie(e.end);let s=+r>+n;const i=s?+r:+n,a=s?n:r;a.setHours(0,0,0,0);let o=1;const u=[];for(;+a<=i;)u.push(ie(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return s?u.reverse():u}function tu(e){const t=ie(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $g(e){const t=ie(e),r=at(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ug(e,t){var o,u;const r=$s(),n=r.weekStartsOn??((u=(o=r.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??0,s=ie(e),i=s.getDay(),a=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}const Qg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wg=(e,t,r)=>{let n;const s=Qg[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ru(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Hg={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qg={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vg={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yg={date:ru({formats:Hg,defaultWidth:"full"}),time:ru({formats:qg,defaultWidth:"full"}),dateTime:ru({formats:Vg,defaultWidth:"full"})},Kg={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gg=(e,t,r,n)=>Kg[e];function Qs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Xg={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jg={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zg={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ey={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ty={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ry={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ny={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Qs({values:Xg,defaultWidth:"wide"}),quarter:Qs({values:Jg,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qs({values:Zg,defaultWidth:"wide"}),day:Qs({values:ey,defaultWidth:"wide"}),dayPeriod:Qs({values:ty,defaultWidth:"wide",formattingValues:ry,defaultFormattingWidth:"wide"})};function Ws(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?iy(o,h=>h.test(a)):sy(o,h=>h.test(a));let c;c=e.valueCallback?e.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const g=t.slice(a.length);return{value:c,rest:g}}}function sy(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function iy(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ly(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const ay=/^(\d+)(th|st|nd|rd)?/i,oy=/\d+/i,uy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cy={any:[/^b/i,/^(a|c)/i]},dy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fy={any:[/1/i,/2/i,/3/i,/4/i]},hy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},my={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},py={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vy={ordinalNumber:ly({matchPattern:ay,parsePattern:oy,valueCallback:e=>parseInt(e,10)}),era:Ws({matchPatterns:uy,defaultMatchWidth:"wide",parsePatterns:cy,defaultParseWidth:"any"}),quarter:Ws({matchPatterns:dy,defaultMatchWidth:"wide",parsePatterns:fy,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ws({matchPatterns:hy,defaultMatchWidth:"wide",parsePatterns:my,defaultParseWidth:"any"}),day:Ws({matchPatterns:py,defaultMatchWidth:"wide",parsePatterns:gy,defaultParseWidth:"any"}),dayPeriod:Ws({matchPatterns:yy,defaultMatchWidth:"any",parsePatterns:xy,defaultParseWidth:"any"})},wy={code:"en-US",formatDistance:Wg,formatLong:Yg,formatRelative:Gg,localize:ny,match:vy,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ny(e){const t=ie(e);return Fg(t,$g(t))+1}function jy(e){const t=ie(e),r=+yl(t)-+_g(t);return Math.round(r/vh)+1}function bh(e,t){var g,h,y,w;const r=ie(e),n=r.getFullYear(),s=$s(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(y=s.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,a=at(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=Fn(a,t),u=at(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const c=Fn(u,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function ky(e,t){var o,u,c,g;const r=$s(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(c=r.locale)==null?void 0:c.options)==null?void 0:g.firstWeekContainsDate)??1,s=bh(e,t),i=at(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Fn(i,t)}function by(e,t){const r=ie(e),n=+Fn(r,t)-+ky(r,t);return Math.round(n/vh)+1}function Z(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const pr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Z(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Z(r+1,2)},d(e,t){return Z(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Z(e.getHours()%12||12,t.length)},H(e,t){return Z(e.getHours(),t.length)},m(e,t){return Z(e.getMinutes(),t.length)},s(e,t){return Z(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Z(s,t.length)}},_n={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sh={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return pr.y(e,t)},Y:function(e,t,r,n){const s=bh(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Z(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Z(i,t.length)},R:function(e,t){const r=wh(e);return Z(r,t.length)},u:function(e,t){const r=e.getFullYear();return Z(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Z(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Z(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return pr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Z(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=by(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Z(s,t.length)},I:function(e,t,r){const n=jy(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Z(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):pr.d(e,t)},D:function(e,t,r){const n=Ny(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Z(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Z(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Z(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Z(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=_n.noon:n===0?s=_n.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=_n.evening:n>=12?s=_n.afternoon:n>=4?s=_n.morning:s=_n.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return pr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):pr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Z(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Z(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):pr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):pr.s(e,t)},S:function(e,t){return pr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Eh(n);case"XXXX":case"XX":return Hr(n);case"XXXXX":case"XXX":default:return Hr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Eh(n);case"xxxx":case"xx":return Hr(n);case"xxxxx":case"xxx":default:return Hr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ch(n,":");case"OOOO":default:return"GMT"+Hr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ch(n,":");case"zzzz":default:return"GMT"+Hr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Z(n,t.length)},T:function(e,t,r){const n=e.getTime();return Z(n,t.length)}};function Ch(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Z(i,2)}function Eh(e,t){return e%60===0?(e>0?"-":"+")+Z(Math.abs(e)/60,2):Hr(e,t)}function Hr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Z(Math.trunc(n/60),2),i=Z(n%60,2);return r+s+t+i}const Ph=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Th=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Sy={p:Th,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Ph(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Ph(n,t)).replace("{{time}}",Th(s,t))}},Cy=/^D+$/,Ey=/^Y+$/,Py=["D","DD","YY","YYYY"];function Ty(e){return Cy.test(e)}function My(e){return Ey.test(e)}function Oy(e,t,r){const n=Dy(e,t,r);if(console.warn(n),Py.includes(e))throw new RangeError(n)}function Dy(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ry=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ay=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fy=/^'([^]*?)'?$/,_y=/''/g,Iy=/[a-zA-Z]/;function Y(e,t,r){var g,h,y,w;const n=$s(),s=n.locale??wy,i=n.firstWeekContainsDate??((h=(g=n.locale)==null?void 0:g.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((w=(y=n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,o=ie(e);if(!zg(o))throw new RangeError("Invalid time value");let u=t.match(Ay).map(j=>{const v=j[0];if(v==="p"||v==="P"){const b=Sy[v];return b(j,s.formatLong)}return j}).join("").match(Ry).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const v=j[0];if(v==="'")return{isToken:!1,value:Ly(j)};if(Sh[v])return{isToken:!0,value:j};if(v.match(Iy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:j}});s.localize.preprocessor&&(u=s.localize.preprocessor(o,u));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return u.map(j=>{if(!j.isToken)return j.value;const v=j.value;(My(v)||Ty(v))&&Oy(v,t,String(e));const b=Sh[v[0]];return b(o,v,s.localize,c)}).join("")}function Ly(e){const t=e.match(Fy);return t?t[1].replace(_y,"'"):e}function Mh(e,t){const r=ie(e),n=ie(t);return+r<+n}function Oh(e){return+ie(e)>Date.now()}function zy(e){return+ie(e)<Date.now()}function Dh(e){return eu(e,jh(e))}function By(e){return eu(e,yh(jh(e),1))}function $y(e,t){return xh(e,-1)}const Uy=({isConnected:e,lastUpdated:t,onRefresh:r,isLoading:n})=>{const[s,i]=E.useState("");return E.useEffect(()=>{const a=()=>{const u=new Date,c=new Date(t),g=Math.floor((u.getTime()-c.getTime())/(1e3*60));g<1?i("Just now"):g<60?i(`${g}m ago`):i(Y(c,"HH:mm"))};a();const o=setInterval(a,3e4);return()=>clearInterval(o)},[t]),l.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[l.jsx("div",{className:"flex items-center space-x-1",children:e?l.jsxs(l.Fragment,{children:[l.jsx(yg,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-green-600 font-medium",children:"Live"})]}):l.jsxs(l.Fragment,{children:[l.jsx(gg,{className:"w-4 h-4 text-orange-600"}),l.jsx("span",{className:"text-orange-600 font-medium",children:"Offline"})]})}),l.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[l.jsx(Ze,{className:"w-4 h-4"}),l.jsx("span",{children:s})]}),l.jsxs("button",{onClick:r,disabled:n,className:`
          flex items-center space-x-1 px-2 py-1 rounded border transition-all duration-200
          ${n?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-600 hover:border-gray-400 hover:bg-gray-50"}
        `,children:[l.jsx(ch,{className:`w-3 h-3 ${n?"animate-spin":""}`}),l.jsx("span",{className:"text-xs",children:n?"Updating...":"Refresh"})]})]})},Qy=({status:e})=>{const t=e.total>0?e.available/e.total*100:0,r=e.total>0?e.booked/e.total*100:0,n=e.total>0?e.pending/e.total*100:0;return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[l.jsx("span",{children:"Slot Availability"}),l.jsxs("span",{children:[e.available,"/",e.total," available"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:l.jsxs("div",{className:"h-full flex",children:[l.jsx("div",{className:"bg-green-500 transition-all duration-300",style:{width:`${t}%`},title:`${e.available} available slots`}),l.jsx("div",{className:"bg-blue-500 transition-all duration-300",style:{width:`${r}%`},title:`${e.booked} booked slots`}),l.jsx("div",{className:"bg-yellow-500 transition-all duration-300",style:{width:`${n}%`},title:`${e.pending} pending slots`})]})}),l.jsx("div",{className:"flex justify-between text-xs mt-1",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),l.jsx("span",{className:"text-gray-600",children:"Available"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"}),l.jsx("span",{className:"text-gray-600",children:"Booked"})]}),e.pending>0&&l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"}),l.jsx("span",{className:"text-gray-600",children:"Pending"})]})]})})]})},Wy=({status:e,onRefresh:t,isLoading:r=!1,showDetails:n=!1})=>l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Real-time Availability"}),l.jsx(Uy,{isConnected:e.isConnected,lastUpdated:e.lastUpdated,onRefresh:t,isLoading:r})]}),l.jsx("div",{className:"mb-4",children:l.jsx(Qy,{status:e})}),!n&&e.total>0&&l.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Vo,{className:"w-4 h-4 text-green-600 mr-1"}),l.jsxs("span",{children:[e.available," available"]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Jo,{className:"w-4 h-4 text-blue-600 mr-1"}),l.jsxs("span",{children:[e.booked," booked"]})]}),e.pending>0&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(mr,{className:"w-4 h-4 text-yellow-600 mr-1"}),l.jsxs("span",{children:[e.pending," pending"]})]})]})]}),Hy=({selectedFilter:e,onFilterChange:t})=>{const r=[{key:"all",label:"Any time",icon:l.jsx(Ze,{className:"w-4 h-4"}),time:""},{key:"morning",label:"Morning",icon:l.jsx(mg,{className:"w-4 h-4"}),time:"6 AM - 12 PM"},{key:"afternoon",label:"Afternoon",icon:l.jsx(pg,{className:"w-4 h-4"}),time:"12 PM - 5 PM"},{key:"evening",label:"Evening",icon:l.jsx(cg,{className:"w-4 h-4"}),time:"5 PM - 10 PM"}];return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(n=>l.jsxs("button",{onClick:()=>t(n.key),className:`
            flex flex-col items-center p-3 rounded-xl border-2 text-sm font-medium transition-all duration-200 hover:shadow-sm
            ${e===n.key?"bg-blue-50 border-blue-300 text-blue-700 shadow-sm":"border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}
          `,children:[l.jsxs("div",{className:"flex items-center mb-1",children:[n.icon,l.jsx("span",{className:"ml-2",children:n.label})]}),n.time&&l.jsx("span",{className:"text-xs text-gray-500",children:n.time})]},n.key))})},qy=({monthDays:e,dayAvailability:t,selectedDate:r,currentMonth:n,minDate:s,maxDate:i,onDateSelect:a})=>l.jsxs("div",{className:"h-full",children:[l.jsx("div",{className:"grid grid-cols-7 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((o,u)=>l.jsxs("div",{className:"text-center text-xs sm:text-sm font-semibold text-gray-700 pb-2 sm:pb-3",children:[l.jsx("span",{className:"hidden sm:inline",children:o}),l.jsx("span",{className:"sm:hidden",children:["S","M","T","W","T","F","S"][u]})]},o))}),l.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 md:gap-3",children:e.map(o=>{const u=Y(o,"yyyy-MM-dd"),c=Mh(o,s)||Mh(i,o),g=eu(o,r),h=Dh(o),y=Y(o,"M")===Y(n,"M"),j=y&&((t==null?void 0:t[u])||[]).some(v=>v.isAvailable);return l.jsxs("button",{onClick:()=>!c&&a(o),disabled:c,className:`
                relative aspect-square rounded-lg text-center transition-all duration-200 flex flex-col justify-center items-center p-1 sm:p-2
                ${g?"bg-blue-500 text-white shadow-lg ring-2 ring-blue-300":c||!y?"bg-gray-50 text-gray-300 cursor-not-allowed":j?"bg-green-50 text-gray-900 hover:bg-green-100 border-2 border-green-200 cursor-pointer hover:shadow-md":"bg-gray-100 text-gray-600 cursor-not-allowed hover:bg-gray-150"}
              `,children:[l.jsx("div",{className:`text-xs sm:text-sm font-semibold ${g?"text-white":h&&y?"text-blue-600":""}`,children:Y(o,"d")}),j&&!c&&!g&&y&&l.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-green-500 rounded-full mt-0.5 sm:mt-1"}),h&&!g&&y&&l.jsx("div",{className:"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-blue-500 rounded-full"})]},u)})})]}),Vy=({selectedDate:e,selectedDaySlots:t,timeFilter:r,onTimeFilterChange:n,onTimeSlotSelect:s})=>{const i=t.filter(o=>o.isAvailable),a=t.filter(o=>{var u;return o.isAvailable||((u=o.blockedTimeInfo)==null?void 0:u.isBlocked)});return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"mb-4 md:mb-6",children:[l.jsx("h4",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-1 md:mb-2",children:Y(e,"EEEE")}),l.jsx("p",{className:"text-base md:text-lg text-gray-600 mb-1",children:Y(e,"MMMM d, yyyy")}),l.jsxs("p",{className:"text-xs md:text-sm text-gray-500",children:[i.length," available time",i.length!==1?"s":""]})]}),l.jsx("div",{className:"mb-4 md:mb-6",children:l.jsx(Hy,{selectedFilter:r,onFilterChange:n})}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx("div",{className:"space-y-3 max-h-full overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:a.length>0?a.map((o,u)=>{var w,j;const c=new Date(o.startTime),g=new Date(o.endTime),h=Math.round((g.getTime()-c.getTime())/(1e3*60));return((w=o.blockedTimeInfo)==null?void 0:w.isBlocked)?l.jsx("div",{className:"w-full text-left p-4 rounded-xl border-2 border-gray-300 bg-gray-50 opacity-75",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Jo,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-semibold text-gray-500 line-through",children:Y(c,"h:mm a")}),l.jsx("div",{className:"text-sm text-gray-400",children:((j=o.blockedTimeInfo)==null?void 0:j.reason)||"Unavailable"})]})]}),l.jsx("div",{className:"text-xs text-gray-500 font-medium bg-gray-200 px-2 py-1 rounded-full",children:"Closed"})]})},u):l.jsx("button",{onClick:()=>s(o),className:"w-full text-left p-4 rounded-xl border-2 border-gray-200 hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3 group-hover:bg-blue-500 transition-colors"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-700 transition-colors",children:Y(c,"h:mm a")}),l.jsxs("div",{className:"text-sm text-gray-500 group-hover:text-blue-600 transition-colors",children:[h," min session"]})]})]}),l.jsx("div",{className:"text-xs text-green-600 font-medium bg-green-50 px-2 py-1 rounded-full group-hover:bg-blue-100 group-hover:text-blue-700 transition-all",children:"Available"})]})},u)}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Ze,{className:"w-8 h-8 text-gray-400"})}),l.jsx("div",{className:"text-gray-600 font-medium mb-2",children:"No available times"}),l.jsx("div",{className:"text-sm text-gray-500 text-center max-w-[200px]",children:"Try selecting a different date or adjusting your time preferences above"})]})})})]})},Yy=({resourceId:e,selectedDate:t,onDateSelect:r,onTimeSlotSelect:n,dateRange:s,serviceIds:i,onBack:a})=>{const[o,u]=E.useState(tu(new Date)),[c,g]=E.useState(t||new Date),[h,y]=E.useState("all"),w=E.useMemo(()=>{const P=Fn(tu(o)),C=Ug(kh(o));return Bg({start:P,end:C})},[o]),j=E.useMemo(()=>new Date(s.start),[s.start]),v=E.useMemo(()=>new Date(s.end),[s.end]),b=E.useMemo(()=>{const P=tu(o),C=kh(o);return{start:Y(P,"yyyy-MM-dd"),end:Y(C,"yyyy-MM-dd")}},[o]),{data:m,isLoading:d,error:f,refetch:x}=hh(e,b,i),S=P=>{g(P),r(P)},k=P=>{P.isAvailable&&n(P)},O=P=>{u(C=>P==="prev"?$y(C):xh(C,1))},M=E.useMemo(()=>m!=null&&m.data?m.data.reduce((P,C)=>{const R=Y(new Date(C.startTime),"yyyy-MM-dd");return P[R]||(P[R]=[]),P[R].push({...C,resourceId:e,date:R}),P},{}):{},[m,e]),U=E.useMemo(()=>{const P=Y(c,"yyyy-MM-dd");let C=(M==null?void 0:M[P])||[];return h!=="all"&&(C=C.filter(R=>{const F=new Date(R.startTime).getHours();switch(h){case"morning":return F>=6&&F<12;case"afternoon":return F>=12&&F<17;case"evening":return F>=17&&F<22;default:return!0}})),C},[M,c,h]),N=E.useMemo(()=>{const P=Object.values(M||{}).flat(),C=P.length,R=P.filter(Q=>Q.isAvailable).length,F=C-R;return{total:C,available:R,booked:F,pending:0,lastUpdated:new Date().toISOString(),isConnected:!f}},[M,f]);return d?l.jsxs("div",{className:"p-6",children:[a&&l.jsxs("button",{onClick:a,className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[l.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Date & Time"}),l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(An,{size:"lg"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading availability..."})]})]}):f?l.jsxs("div",{className:"p-6",children:[a&&l.jsxs("button",{onClick:a,className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[l.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Date & Time"}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-red-600 mb-2",children:"Failed to load availability"}),l.jsx("div",{className:"text-sm text-gray-600",children:f.message})]})]}):l.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 md:mb-6 gap-4",children:[l.jsxs("div",{className:"flex items-center",children:[a&&l.jsxs("button",{onClick:a,className:"flex items-center text-gray-600 hover:text-gray-800 mr-3 md:mr-4 transition-colors",children:[l.jsx(Bt,{className:"w-4 h-4 mr-1"}),"Back"]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Select Date & Time"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Choose your preferred date and time slot"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[l.jsx("button",{onClick:()=>O("prev"),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:l.jsx(Ko,{className:"w-5 h-5"})}),l.jsx("h4",{className:"font-medium text-gray-900 min-w-[120px] sm:min-w-[140px] text-center text-sm sm:text-base",children:Y(o,"MMMM yyyy")}),l.jsx("button",{onClick:()=>O("next"),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:l.jsx(Go,{className:"w-5 h-5"})})]})]}),N.total>0&&l.jsx("div",{className:"mb-4 md:mb-6",children:l.jsx(Wy,{status:N,onRefresh:()=>x(),isLoading:d,showDetails:!1})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 md:gap-6 lg:gap-8 min-h-[400px] lg:min-h-[600px]",children:[l.jsx("div",{className:"col-span-1 lg:col-span-3",children:l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-4 md:p-6 lg:p-8 h-full",children:[l.jsxs("div",{className:"mb-4 md:mb-6",children:[l.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-1 md:mb-2",children:"Select a Date"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Available dates are highlighted in green"})]}),l.jsx(qy,{monthDays:w,dayAvailability:M,selectedDate:c,currentMonth:o,minDate:j,maxDate:v,onDateSelect:S})]})}),l.jsx("div",{className:"col-span-1 lg:col-span-2",children:l.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-4 md:p-6 lg:p-8 h-full",children:l.jsx(Vy,{selectedDate:c,selectedDaySlots:U,timeFilter:h,onTimeFilterChange:y,onTimeSlotSelect:k})})})]})]})},Ky=({claims:e})=>!e||e.length===0?null:l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(Wr,{className:"w-5 h-5 text-green-600 mr-2"}),l.jsx("h4",{className:"font-medium text-green-800",children:"Product Claims"})]}),l.jsx("div",{className:"space-y-2",children:e.map((t,r)=>l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-green-700",children:t.productName}),l.jsxs("span",{className:"text-green-600 font-medium",children:["Qty: ",t.selectedQuantity]})]},r))})]}),Gy=({slot:e})=>{if(!e)return null;const t=new Date(e.startTime),r=new Date(e.endTime);return l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[l.jsx("h4",{className:"font-medium text-blue-800 mb-3",children:"Booking Summary"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center text-blue-700",children:[l.jsx(Ze,{className:"w-4 h-4 mr-2"}),Y(t,"EEEE, MMMM d, yyyy")]}),l.jsxs("div",{className:"flex items-center text-blue-700",children:[l.jsx(Ze,{className:"w-4 h-4 mr-2"}),Y(t,"h:mm a")," - ",Y(r,"h:mm a")]})]})]})},Xy=({selectedSlot:e,selectedServices:t,productClaims:r=[],showProducts:n=!1,requirePhoneNumber:s=!1,showAttendeeCount:i=!0,showSpecialRequirements:a=!0,showBookingTitle:o=!0,onSubmit:u,onBack:c,isLoading:g=!1,clientData:h=null})=>{const[y,w]=E.useState({customerName:(h==null?void 0:h.name)||"",customerEmail:(h==null?void 0:h.email)||"",customerPhone:(h==null?void 0:h.phone)||"",title:"",description:"",attendees:1}),[j,v]=E.useState({}),[b,m]=E.useState({});E.useEffect(()=>{h&&w(P=>({...P,customerName:h.name,customerEmail:h.email,customerPhone:h.phone||P.customerPhone}))},[h]);const d=(P,C)=>{switch(P){case"customerName":if(!C||C.trim().length===0)return"Full name is required";if(C.trim().length<2)return"Name must be at least 2 characters long";if(C.trim().length>100)return"Name must be less than 100 characters";break;case"customerEmail":if(!C||C.trim().length===0)return"Email is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C))return"Please enter a valid email address";break;case"customerPhone":if(s&&(!C||C.trim().length===0))return"Phone number is required";if(C&&C.trim().length>0&&!/^[\d\s\-\+\(\)]{10,20}$/.test(C))return"Please enter a valid phone number";break;case"title":if(!o)return;if(!C||C.trim().length===0)return"Booking title is required";if(C.trim().length<3)return"Title must be at least 3 characters long";if(C.trim().length>100)return"Title must be less than 100 characters";break;case"description":if(C&&C.length>500)return"Description must be less than 500 characters";break;case"attendees":const F=parseInt(C);if(isNaN(F)||F<1)return"At least 1 attendee is required";if(F>50)return"Maximum 50 attendees allowed";break}},f=()=>{const P={};let C=!0;return Object.keys(y).forEach(R=>{const F=d(R,y[R]);F&&(P[R]=F,C=!1)}),v(P),C},x=(P,C)=>{w(R=>({...R,[P]:C})),j[P]&&v(R=>({...R,[P]:void 0}))},S=P=>{m(R=>({...R,[P]:!0}));const C=d(P,y[P]);v(R=>({...R,[P]:C}))},k=P=>{P.preventDefault();const C=Object.keys(y).reduce((R,F)=>({...R,[F]:!0}),{});if(m(C),f()){const R=o?y.title.trim():`Booking - ${Y(new Date((e==null?void 0:e.startTime)||""),"PPp")}`,F={resourceId:(e==null?void 0:e.resourceId)||"",startTime:(e==null?void 0:e.startTime)||"",...t&&t.length>0?{serviceIds:t}:{endTime:(e==null?void 0:e.endTime)||""},customerName:y.customerName.trim(),customerEmail:y.customerEmail.trim(),customerPhone:y.customerPhone.trim(),metadata:{title:R,description:y.description.trim(),attendees:y.attendees},productClaims:r.map(Q=>({productId:Q.productId,quantity:Q.selectedQuantity,voucherId:Q.voucherId}))||[]};u(F)}},O=P=>{if(!h)return!1;const R={customerName:"name",customerEmail:"email",customerPhone:"phone"}[P];return!!h[R]},M=(P,C,R="text",F,Q=!1)=>{const W=b[P]&&j[P],we=P==="customerName"||P==="customerEmail"||P==="customerPhone"?O(P):!1;return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs md:text-sm font-medium text-gray-700 mb-1",children:[C,Q&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("input",{type:R,value:y[P],onChange:A=>x(P,A.target.value),onBlur:()=>S(P),placeholder:F,disabled:we,className:`
            w-full px-3 py-2 text-sm md:text-base border rounded-lg transition-colors
            ${we?"bg-gray-50 cursor-not-allowed":""}
            ${W?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}
            focus:outline-none focus:ring-2
          `,required:Q}),we&&l.jsx("span",{className:"text-xs text-green-600 mt-1 flex items-center",children:" From your account"}),W&&!we&&l.jsxs("div",{className:"mt-1 flex items-center text-xs md:text-sm text-red-600",children:[l.jsx(mr,{className:"w-4 h-4 mr-1"}),j[P]]})]})},U=(P,C,R,F=!1)=>{const Q=b[P]&&j[P];return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs md:text-sm font-medium text-gray-700 mb-1",children:[C,F&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("textarea",{value:y[P],onChange:W=>x(P,W.target.value),onBlur:()=>S(P),placeholder:R,rows:3,className:`
            w-full px-3 py-2 text-sm md:text-base border rounded-lg transition-colors resize-none
            ${Q?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}
            focus:outline-none focus:ring-2
          `,required:F}),Q&&l.jsxs("div",{className:"mt-1 flex items-center text-xs md:text-sm text-red-600",children:[l.jsx(mr,{className:"w-4 h-4 mr-1"}),j[P]]})]})},N=(P,C,R,F=!1)=>{const Q=b[P]&&j[P];return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs md:text-sm font-medium text-gray-700 mb-1",children:[C,F&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("select",{value:y[P],onChange:W=>x(P,W.target.value),onBlur:()=>S(P),className:`
            w-full px-3 py-2 text-sm md:text-base border rounded-lg transition-colors
            ${Q?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}
            focus:outline-none focus:ring-2
          `,required:F,children:R.map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))}),Q&&l.jsxs("div",{className:"mt-1 flex items-center text-xs md:text-sm text-red-600",children:[l.jsx(mr,{className:"w-4 h-4 mr-1"}),j[P]]})]})};return l.jsxs("div",{className:"p-4 md:p-6",children:[l.jsxs("button",{onClick:c,disabled:g,className:"flex items-center text-gray-600 hover:text-gray-800 mb-3 md:mb-4 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs("div",{className:"mb-4 md:mb-6",children:[l.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2",children:"Booking Details"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Please provide details for your booking."})]}),l.jsx(Gy,{slot:e}),n&&l.jsx(Ky,{claims:r}),l.jsxs("form",{onSubmit:k,className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 md:p-4",children:[l.jsx("h4",{className:"font-medium text-sm md:text-base text-gray-900 mb-3 md:mb-4",children:"Customer Information"}),l.jsxs("div",{className:"space-y-3 md:space-y-4",children:[M("customerName","Full Name","text","e.g., John Doe",!0),M("customerEmail","Email Address","email","e.g., john@example.com",!0),M("customerPhone","Phone Number","tel","e.g., +1 (555) 123-4567",s)]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-sm md:text-base text-gray-900 mb-3 md:mb-4",children:"Booking Details"}),l.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o&&M("title","Booking Title","text","e.g., Tennis Practice, Team Meeting",!0),a&&U("description","Description","Any special requirements, notes, or additional information..."),i&&N("attendees","Number of Attendees",Array.from({length:20},(P,C)=>({value:C+1,label:`${C+1} ${C===0?"person":"people"}`})),!0)]})]}),l.jsx("div",{className:"pt-3 md:pt-4 border-t border-gray-200",children:l.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-2.5 md:py-3 px-4 rounded-lg text-sm md:text-base font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:g?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating Booking..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ah,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Confirm Booking"]})})})]})]})};function qr(e){return new Date(e).toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"")}function Jy(e){const t=new URL("https://calendar.google.com/calendar/render");return t.searchParams.set("action","TEMPLATE"),t.searchParams.set("text",e.title),t.searchParams.set("dates",`${qr(e.startTime)}/${qr(e.endTime)}`),t.searchParams.set("details",e.description),e.location&&t.searchParams.set("location",e.location),e.url&&t.searchParams.set("sprop",`website:${e.url}`),t.toString()}function Zy(e){const t=new URL("https://outlook.live.com/calendar/0/deeplink/compose");return t.searchParams.set("path","/calendar/action/compose"),t.searchParams.set("rru","addevent"),t.searchParams.set("subject",e.title),t.searchParams.set("startdt",new Date(e.startTime).toISOString()),t.searchParams.set("enddt",new Date(e.endTime).toISOString()),t.searchParams.set("body",e.description),e.location&&t.searchParams.set("location",e.location),t.toString()}function ex(e){const t=new URL("https://calendar.yahoo.com/");return t.searchParams.set("v","60"),t.searchParams.set("title",e.title),t.searchParams.set("st",qr(e.startTime)),t.searchParams.set("et",qr(e.endTime)),t.searchParams.set("desc",e.description),e.location&&t.searchParams.set("in_loc",e.location),t.toString()}function tx(e){const t=qr(e.startTime),r=qr(e.endTime),n=qr(new Date().toISOString()),s=`${Date.now()}-${Math.random().toString(36).substr(2,9)}@booking-system`,i=o=>o.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"),a=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Booking System//Calendar Event//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${s}`,`DTSTAMP:${n}`,`DTSTART:${t}`,`DTEND:${r}`,`SUMMARY:${i(e.title)}`,`DESCRIPTION:${i(e.description)}`];return e.location&&a.push(`LOCATION:${i(e.location)}`),e.url&&a.push(`URL:${e.url}`),a.push("STATUS:CONFIRMED"),a.push("SEQUENCE:0"),a.push("END:VEVENT"),a.push("END:VCALENDAR"),a.join(`\r
`)}function rx(e,t){const r=tx(e),n=new Blob([r],{type:"text/calendar;charset=utf-8"}),s=window.URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=`booking-${Date.now()}.ics`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}function nx(e,t){switch(t){case"google":window.open(Jy(e),"_blank");break;case"outlook":window.open(Zy(e),"_blank");break;case"yahoo":window.open(ex(e),"_blank");break;case"apple":case"ical":rx(e);break}}const sx=({booking:e})=>{var n,s,i;if(!e)return null;const t=new Date(e.startTime),r=new Date(e.endTime);return l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[l.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[l.jsx(gt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Booking Details"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Booking ID:"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-sm font-mono text-gray-900 mr-2",children:e.id}),l.jsx("button",{onClick:()=>navigator.clipboard.writeText(e.id),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Copy booking ID",children:l.jsx(ih,{className:"w-4 h-4"})})]})]}),e.resource&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Resource:"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.resource.name})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Date:"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:Y(t,"EEEE, MMMM d, yyyy")})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Time:"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ze,{className:"w-4 h-4 mr-1 text-blue-600"}),l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Y(t,"h:mm a")," - ",Y(r,"h:mm a")]})]})]}),((n=e.metadata)==null?void 0:n.attendees)&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Attendees:"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(fh,{className:"w-4 h-4 mr-1 text-blue-600"}),l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e.metadata.attendees," ",e.metadata.attendees===1?"person":"people"]})]})]}),((s=e.metadata)==null?void 0:s.title)&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Title:"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.metadata.title})]}),((i=e.metadata)==null?void 0:i.description)&&l.jsx("div",{className:"pt-2 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(ah,{className:"w-4 h-4 mr-2 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Notes:"}),l.jsx("p",{className:"text-sm text-gray-900",children:e.metadata.description})]})]})})]})]})},ix=({booking:e})=>!(e!=null&&e.services)||e.services.length===0?null:l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:[l.jsxs("h4",{className:"font-medium text-purple-800 mb-4 flex items-center",children:[l.jsx(Wr,{className:"w-5 h-5 mr-2"}),"Services Included"]}),l.jsx("div",{className:"space-y-3",children:e.services.map((t,r)=>l.jsxs("div",{className:"flex items-center justify-between bg-white rounded-md p-3 border border-purple-100",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-purple-900",children:t.serviceName}),l.jsxs("div",{className:"text-sm text-purple-700 flex items-center mt-1",children:[l.jsx(Ze,{className:"w-3 h-3 mr-1"}),t.durationMinutes===0?"No additional time":`${t.durationMinutes} minutes`]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"font-semibold text-purple-800",children:["R",t.price.toFixed(2)]})})]},r))}),e.totalDuration!==void 0&&e.totalPrice!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-white rounded-md border border-purple-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Total Duration:"}),l.jsx("span",{className:"font-semibold text-purple-800",children:e.totalDuration===0?"No time":`${e.totalDuration} minutes`})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Total Price:"}),l.jsxs("span",{className:"font-semibold text-purple-800",children:["R",e.totalPrice.toFixed(2)]})]})]})]}),lx=({claims:e})=>!e||e.length===0?null:l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[l.jsxs("h4",{className:"font-medium text-green-800 mb-4 flex items-center",children:[l.jsx(Wr,{className:"w-5 h-5 mr-2"}),"Product Claims Confirmed"]}),l.jsx("div",{className:"space-y-3",children:e.map((t,r)=>l.jsxs("div",{className:"flex items-center justify-between bg-white rounded-md p-3 border border-green-100",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-green-900",children:t.productName}),t.sponsor&&l.jsxs("div",{className:"text-sm text-green-700",children:["by ",t.sponsor]}),t.voucherCode&&l.jsxs("div",{className:"text-xs font-mono text-green-600 mt-1",children:["Voucher: ",t.voucherCode]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold text-green-800",children:["Qty: ",t.quantity]}),t.totalValue&&l.jsxs("div",{className:"text-sm text-green-700",children:["$",t.totalValue]})]})]},r))}),l.jsx("div",{className:"mt-4 p-3 bg-white rounded-md border border-green-100",children:l.jsxs("p",{className:"text-sm text-green-700",children:[l.jsx("strong",{children:"Collection Instructions:"})," Present your booking confirmation to collect your claimed products at the venue."]})})]}),ax=({booking:e})=>l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[l.jsx("h4",{className:"font-medium text-blue-800 mb-3",children:"What's Next?"}),l.jsxs("ul",{className:"space-y-2 text-sm text-blue-700",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),"A confirmation email has been sent to your registered email address"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),"Arrive 5-10 minutes before your booking time"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),"Bring your booking confirmation and valid ID"]}),e.productClaims&&e.productClaims.length>0&&l.jsxs("li",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),"Collect your claimed products at the venue reception"]})]})]}),ox=({booking:e,productClaims:t=[],onReset:r})=>{const[n,s]=E.useState(!1),i=E.useRef(null);E.useEffect(()=>{const c=g=>{i.current&&!i.current.contains(g.target)&&s(!1)};if(n)return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[n]);const a=async()=>{if(navigator.share&&e)try{await navigator.share({title:"Booking Confirmation",text:`My booking has been confirmed for ${Y(new Date(e.startTime),"MMMM d, yyyy")}`,url:window.location.href})}catch{o()}else o()},o=()=>{navigator.clipboard.writeText(window.location.href)},u=c=>{var g,h,y;if(!e){console.error("No booking data available");return}try{const w={title:((g=e.metadata)==null?void 0:g.title)||"Booking",description:`Booking ID: ${e.id}
${((h=e.metadata)==null?void 0:h.description)||""}

Booked via Booking System`,startTime:e.startTime,endTime:e.endTime,location:((y=e.resource)==null?void 0:y.name)||void 0,url:typeof window<"u"?window.location.href:void 0};nx(w,c),s(!1)}catch(w){console.error("Error adding to calendar:",w)}};return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:l.jsx(Vo,{className:"w-10 h-10 text-green-600"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),l.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Your booking has been successfully created. You'll receive a confirmation email shortly."})]}),e&&l.jsx(sx,{booking:e}),e&&l.jsx(ix,{booking:e}),l.jsx(lx,{claims:t}),e&&l.jsx(ax,{booking:e}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"relative",ref:i,children:[l.jsxs("button",{type:"button",onClick:()=>s(!n),className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(gt,{className:"w-5 h-5 mr-2"}),"Add to Calendar",l.jsx(sh,{className:"w-4 h-4 ml-2"})]}),n&&l.jsx("div",{className:"absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("button",{type:"button",onClick:()=>u("google"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center",children:[l.jsx(gt,{className:"w-4 h-4 mr-3 text-blue-600"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Google Calendar"})]}),l.jsxs("button",{type:"button",onClick:()=>u("apple"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center",children:[l.jsx(gt,{className:"w-4 h-4 mr-3 text-gray-600"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Apple Calendar"})]}),l.jsxs("button",{type:"button",onClick:()=>u("outlook"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center",children:[l.jsx(gt,{className:"w-4 h-4 mr-3 text-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Outlook"})]}),l.jsxs("button",{type:"button",onClick:()=>u("ical"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center",children:[l.jsx(sg,{className:"w-4 h-4 mr-3 text-gray-600"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Download .ics file"})]})]})})]}),l.jsxs("button",{onClick:a,className:"flex items-center justify-center px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(ih,{className:"w-5 h-5 mr-2"}),"Share"]})]}),l.jsx("button",{onClick:r,className:"w-full px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Make Another Booking"})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Need help? Questions about your booking?"}),l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Contact support at "}),l.jsx("a",{href:"mailto:support@bookingsystem.com",className:"text-blue-600 hover:text-blue-800",children:"support@bookingsystem.com"})]})]})]})},ux=({product:e,claimedQuantity:t,voucherId:r,onQuantityChange:n,onVoucherChange:s})=>{var c,g,h,y,w,j,v,b;const i=!e.stock||e.stock.availableStock===0,a=Math.min(((c=e.stock)==null?void 0:c.availableStock)||0,((g=e.claimRules)==null?void 0:g.maxClaimsPerUser)||1),o=()=>{t<a&&n(t+1)},u=()=>{t>0&&n(t-1)};return l.jsxs("div",{className:`
      border-2 rounded-lg p-4 transition-all duration-200
      ${t>0?"border-blue-300 bg-blue-50":i?"border-gray-200 bg-gray-50 opacity-60":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
    `,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(Wr,{className:`w-5 h-5 mr-3 ${i?"text-gray-400":"text-green-600"}`}),l.jsxs("div",{children:[l.jsx("h4",{className:`font-semibold ${i?"text-gray-500":"text-gray-900"}`,children:e.name}),e.sponsorName&&l.jsxs("p",{className:"text-sm text-gray-600",children:["Sponsored by ",e.sponsorName]})]})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Available Stock:"}),l.jsx("span",{className:`font-medium ${i?"text-red-600":(((h=e.stock)==null?void 0:h.availableStock)||0)<=(((y=e.stock)==null?void 0:y.lowStockThreshold)||5)?"text-orange-600":"text-green-600"}`,children:((w=e.stock)==null?void 0:w.availableStock)||0})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Category:"}),l.jsx("span",{className:"font-medium text-gray-700",children:e.category})]}),((j=e.claimRules)==null?void 0:j.maxClaimsPerUser)&&l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Max per person:"}),l.jsx("span",{className:"font-medium text-gray-700",children:e.claimRules.maxClaimsPerUser})]})]}),((v=e.claimRules)==null?void 0:v.requiresVoucher)&&t>0&&l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Voucher Code *"}),l.jsx("input",{type:"text",value:r||"",onChange:m=>s(m.target.value),placeholder:"Enter your voucher code",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),!r&&l.jsxs("p",{className:"text-sm text-red-600 mt-1 flex items-center",children:[l.jsx(qo,{className:"w-4 h-4 mr-1"}),"Voucher code is required for this product"]})]}),((b=e.claimRules)==null?void 0:b.requiresVoucher)&&t===0&&l.jsxs("div",{className:"flex items-center text-sm text-orange-600 bg-orange-50 p-2 rounded mb-3",children:[l.jsx(qo,{className:"w-4 h-4 mr-2"}),"Requires voucher to claim"]})]}),l.jsx("div",{className:"flex flex-col items-center ml-4",children:i?l.jsx("div",{className:"text-red-600 font-medium text-sm text-center",children:"Out of Stock"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center border rounded-lg",children:[l.jsx("button",{onClick:u,disabled:t===0,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx(ug,{className:"w-4 h-4"})}),l.jsx("div",{className:"px-4 py-2 min-w-[60px] text-center font-medium",children:t}),l.jsx("button",{onClick:o,disabled:t>=a,className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx(uh,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1 text-center",children:["Max: ",a]})]})})]}),t>0&&l.jsxs("div",{className:"flex items-center mt-4 pt-3 border-t border-blue-200",children:[l.jsx(Yo,{className:"w-4 h-4 text-blue-600 mr-2"}),l.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[t," item",t>1?"s":""," selected"]})]})]})},cx=({resourceId:e,selectedClaims:t,onClaimChange:r,onNext:n,onBack:s})=>{var v,b;const{data:i,isLoading:a,error:o}=vg(e),[u,c]=E.useState("all"),g=E.useMemo(()=>{const m=new Map;return t.forEach(d=>{m.set(d.productId,d.quantity)}),m},[t]),h=E.useMemo(()=>i!=null&&i.data?i.data.filter(m=>{var d;switch(u){case"available":return m.isActive&&(((d=m.stock)==null?void 0:d.availableStock)||0)>0;case"selected":return g.has(m.id);default:return m.isActive}}):[],[i==null?void 0:i.data,u,g]),y=t.reduce((m,d)=>m+d.quantity,0),w=(m,d)=>{const f=t.find(S=>S.productId===m),x=t.filter(S=>S.productId!==m);d>0&&x.push({productId:m,quantity:d,voucherId:f==null?void 0:f.voucherId,claimedAt:new Date().toISOString()}),r(x)},j=(m,d)=>{const f=t.map(x=>x.productId===m?{...x,voucherId:d||void 0}:x);r(f)};return a?l.jsxs("div",{className:"p-6",children:[l.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[l.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Claim Products"}),l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(An,{size:"lg"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading products..."})]})]}):o?l.jsxs("div",{className:"p-6",children:[l.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[l.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Claim Products"}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-red-600 mb-2",children:"Failed to load products"}),l.jsx("div",{className:"text-sm text-gray-600",children:o.message})]})]}):!i||!i.data||i.data.length===0?l.jsxs("div",{className:"p-6",children:[l.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[l.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Claim Products"}),l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("div",{className:"text-gray-600 mb-2",children:"No products available"}),l.jsx("div",{className:"text-sm text-gray-500",children:"This resource doesn't have any claimable products."})]}),l.jsx("button",{onClick:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 mt-6",children:"Continue to Booking Details"})]}):l.jsxs("div",{className:"p-6",children:[l.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[l.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Claim Products"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Select products you'd like to claim for your booking session."})]}),l.jsx("div",{className:"flex space-x-4 mb-6",children:[{key:"all",label:"All Products",count:((v=i.data)==null?void 0:v.length)||0},{key:"available",label:"Available",count:((b=i.data)==null?void 0:b.filter(m=>{var d;return(((d=m.stock)==null?void 0:d.availableStock)||0)>0}).length)||0},{key:"selected",label:"Selected",count:t.length}].map(m=>l.jsxs("button",{onClick:()=>c(m.key),className:`
              px-4 py-2 rounded-full border transition-all duration-200
              ${u===m.key?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}
            `,children:[m.label," (",m.count,")"]},m.key))}),l.jsx("div",{className:"space-y-4 mb-6",children:h.length>0?h.map(m=>{var d;return l.jsx(ux,{product:m,claimedQuantity:g.get(m.id)||0,onQuantityChange:f=>w(m.id,f),onVoucherChange:f=>j(m.id,f),voucherId:(d=t.find(f=>f.productId===m.id))==null?void 0:d.voucherId},m.id)}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("div",{className:"text-gray-600 mb-2",children:"No products match your filter"}),l.jsx("button",{onClick:()=>c("all"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Show all products"})]})}),l.jsxs("div",{className:"border-t pt-6",children:[y>0&&l.jsx("div",{className:"flex items-center justify-between bg-blue-50 p-4 rounded-lg mb-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(hg,{className:"w-5 h-5 text-blue-600 mr-3"}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-blue-900",children:[y," product",y>1?"s":""," selected"]}),l.jsxs("div",{className:"text-sm text-blue-700",children:[t.length," different product",t.length>1?"s":""]})]})]})}),l.jsx("button",{onClick:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Continue to Booking Details"}),y===0&&l.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"You can proceed without claiming any products"})]})]})},dx=({widgetState:e,setWidgetState:t,config:r,clientData:n=null})=>{var m;const s=wg(),i=d=>{var x;const f=d.services&&d.services.some(S=>S.isActive);t(S=>({...S,selectedResource:d,currentStep:f?"service-select":"date-time"})),(x=r.onResourceSelect)==null||x.call(r,d)},a=d=>{t(f=>({...f,selectedServices:d,currentStep:"date-time"}))},o=d=>{t(f=>({...f,selectedDate:d}))},u=d=>{t(f=>({...f,selectedSlot:d,currentStep:r.showProducts?"products":"details"}))},c=d=>{const f=d.map(x=>({productId:x.productId,quantity:x.quantity,voucherId:x.voucherId,selectedQuantity:x.quantity,maxAllowed:1,productName:"",category:"PERISHABLE",sponsorName:"",availableStock:0,isAvailable:!0}));t(x=>({...x,productClaims:f}))},g=()=>{var d;(d=r.onProductClaim)==null||d.call(r,e.productClaims),t(f=>({...f,currentStep:"details"}))},h=async d=>{var f,x,S;try{t(O=>({...O,isLoading:!0,error:void 0}));const k=await s.mutateAsync(d);if(k.success&&k.booking)t(O=>({...O,currentStep:"confirmation",confirmedBooking:k.booking,isLoading:!1,formData:d})),(f=r.onBookingComplete)==null||f.call(r,k.booking);else throw new Error(((x=k.errors)==null?void 0:x[0])||"Booking creation failed")}catch(k){const O=k instanceof Error?k.message:"Unknown error occurred";t(M=>({...M,error:O,isLoading:!1})),(S=r.onBookingError)==null||S.call(r,O)}},y=()=>{t(d=>{var S,k;const f=(k=(S=d.selectedResource)==null?void 0:S.services)==null?void 0:k.some(O=>O.isActive),x={"service-select":r.resourceId?"service-select":"resource-select","date-time":f?"service-select":r.resourceId?"date-time":"resource-select",products:"date-time",details:r.showProducts?"products":"date-time",confirmation:"details"};return{...d,currentStep:x[d.currentStep]||"resource-select",error:void 0}})},w=()=>{t({currentStep:r.resourceId?"date-time":"resource-select",selectedResource:void 0,selectedDate:void 0,selectedSlot:void 0,formData:void 0,productClaims:[],confirmedBooking:void 0,isLoading:!1,error:void 0})},j=r.resourceId||((m=e.selectedResource)==null?void 0:m.id),v=Cl.useMemo(()=>{const d=new Date;d.setDate(d.getDate()+r.minAdvanceDays);const f=new Date;return f.setDate(f.getDate()+r.maxAdvanceDays),{start:d.toISOString().split("T")[0],end:f.toISOString().split("T")[0]}},[r.minAdvanceDays,r.maxAdvanceDays]),b=()=>{switch(e.currentStep){case"resource-select":return l.jsx(bg,{onResourceSelect:i,selectedResource:e.selectedResource});case"service-select":return l.jsx(Mg,{resource:e.selectedResource,selectedServiceIds:e.selectedServices||[],onServiceSelect:a,onNext:()=>t(f=>({...f,currentStep:"date-time"})),onBack:y});case"date-time":return l.jsx(Yy,{resourceId:j,selectedDate:e.selectedDate,onDateSelect:o,onTimeSlotSelect:u,dateRange:v,serviceIds:e.selectedServices,onBack:y});case"products":return l.jsx(cx,{resourceId:j,selectedClaims:e.productClaims.map(f=>({productId:f.productId,quantity:f.selectedQuantity,voucherId:f.voucherId,claimedAt:new Date().toISOString()})),onClaimChange:c,onNext:g,onBack:y});case"details":return l.jsx(Xy,{selectedSlot:e.selectedSlot,selectedServices:e.selectedServices,productClaims:e.productClaims.map(f=>({productId:f.productId,quantity:f.selectedQuantity,voucherId:f.voucherId,maxAllowed:f.maxAllowed,productName:f.productName,category:f.category,sponsorName:f.sponsorName,selectedQuantity:f.selectedQuantity,availableStock:f.availableStock,isAvailable:f.isAvailable})),showProducts:r.showProducts,requirePhoneNumber:r.requirePhoneNumber,showAttendeeCount:r.showAttendeeCount,showSpecialRequirements:r.showSpecialRequirements,showBookingTitle:r.showBookingTitle,onSubmit:h,onBack:y,isLoading:s.isPending,clientData:n});case"confirmation":const d=e.confirmedBooking&&e.selectedResource?{...e.confirmedBooking,resource:{id:e.selectedResource.id,name:e.selectedResource.name}}:e.confirmedBooking;return l.jsx(ox,{booking:d,productClaims:e.productClaims.map(f=>({productName:f.productName,sponsor:f.sponsorName,quantity:f.selectedQuantity,voucherCode:f.voucherId})),onReset:w});default:return l.jsxs("div",{className:"p-6 text-center text-gray-500",children:["Invalid step: ",e.currentStep]})}};return l.jsx("div",{className:"booking-flow",children:b()})},fx=({error:e,resetError:t})=>l.jsxs("div",{className:"booking-widget-error p-6 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:l.jsx(qo,{className:"w-6 h-6 text-red-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 mb-4 max-w-md mx-auto",children:"We encountered an error while loading the booking widget. Please try refreshing or contact support if the problem persists."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:t,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(ch,{className:"w-4 h-4 mr-2"}),"Try Again"]}),l.jsxs("details",{className:"text-left",children:[l.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700",children:"Technical Details"}),l.jsxs("pre",{className:"mt-2 p-3 bg-gray-100 rounded text-xs text-gray-700 overflow-auto",children:[e.message,e.stack&&`

`+e.stack]})]})]})]});class hx extends Cl.Component{constructor(t){super(t),this.resetError=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){var n,s;console.error("BookingWidget Error Boundary caught an error:",t,r),(s=(n=this.props).onError)==null||s.call(n,t,r)}render(){if(this.state.hasError&&this.state.error){const t=this.props.fallback||fx;return l.jsx(t,{error:this.state.error,resetError:this.resetError})}return this.props.children}}const mx=({authService:e,isOpen:t,onClose:r,onSuccess:n,initialMode:s="login",isRequired:i=!1})=>{const[a,o]=E.useState(s),[u,c]=E.useState(!1),[g,h]=E.useState(null),[y,w]=E.useState(null),[j,v]=E.useState(""),[b,m]=E.useState(""),[d,f]=E.useState(""),[x,S]=E.useState(""),[k,O]=E.useState("");if(!t)return null;const M=()=>{v(""),m(""),f(""),S(""),O(""),h(null),w(null)},U=()=>{o(a==="login"?"register":"login"),M()},N=()=>{i||(M(),r())},P=async F=>{F.preventDefault(),c(!0),h(null);const Q={email:j,password:b},W=await e.login(Q);c(!1),W.success?(M(),n()):h(W.error||"Login failed. Please check your credentials.")},C=async F=>{if(F.preventDefault(),c(!0),h(null),b.length<8){h("Password must be at least 8 characters long"),c(!1);return}const Q={email:j,password:b,name:d,phone:x||void 0,dateOfBirth:k||void 0},W=await e.register(Q);c(!1),W.success?(M(),n()):h(W.error||"Registration failed. Please try again.")},R=async F=>{F.preventDefault(),c(!0),h(null),w(null);const Q=await e.forgotPassword(j);c(!1),Q.success?(w(Q.message||"If an account exists with that email, a password reset link has been sent."),v("")):h(Q.error||"Failed to send reset email. Please try again.")};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full overflow-hidden",children:[l.jsxs("div",{className:"bg-blue-600 text-white px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold",children:a==="login"?"Sign In":a==="register"?"Create Account":"Reset Password"}),!i&&l.jsx("button",{onClick:N,className:"text-white hover:text-blue-100 transition-colors","aria-label":"Close",children:l.jsx(Zo,{className:"w-6 h-6"})})]}),i&&l.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 mx-6 mt-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(mr,{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-blue-900",children:"Authentication required. Please sign in or create an account to continue booking."})]})}),y&&l.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mx-6 mt-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(mr,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-green-700",children:y})]})}),g&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mx-6 mt-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(mr,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-700",children:g})]})}),l.jsxs("form",{onSubmit:a==="login"?P:a==="register"?C:R,className:"p-6 space-y-4",children:[a==="register"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx(gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"name",type:"text",value:d,onChange:F=>f(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe",required:!0,disabled:u})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),l.jsxs("div",{className:"relative",children:[l.jsx(og,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"email",type:"email",value:j,onChange:F=>v(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",required:!0,disabled:u})]})]}),a==="register"&&l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",l.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(fg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"phone",type:"tel",value:x,onChange:F=>S(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567",disabled:u})]})]}),a==="register"&&l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Birth ",l.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"dateOfBirth",type:"date",value:k,onChange:F=>O(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:u,max:new Date().toISOString().split("T")[0]})]})]}),a!=="forgot-password"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{id:"password",type:"password",value:b,onChange:F=>m(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:a==="register"?"Min. 8 characters":"",required:!0,minLength:a==="register"?8:void 0,disabled:u})]}),a==="register"&&l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters long"}),a==="login"&&l.jsx("div",{className:"mt-2 text-right",children:l.jsx("button",{type:"button",onClick:()=>{o("forgot-password"),h(null),w(null)},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",disabled:u,children:"Forgot Password?"})})]}),a==="forgot-password"&&l.jsx("p",{className:"text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."}),l.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-2.5 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Xo,{className:"w-5 h-5 mr-2 animate-spin"}),a==="login"?"Signing in...":a==="register"?"Creating account...":"Sending reset link..."]}):a==="login"?"Sign In":a==="register"?"Create Account":"Send Reset Link"})]}),l.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:l.jsx("p",{className:"text-sm text-center text-gray-600",children:a==="forgot-password"?l.jsxs(l.Fragment,{children:["Remember your password?"," ",l.jsx("button",{onClick:()=>{o("login"),M()},className:"text-blue-600 hover:text-blue-700 font-medium",disabled:u,children:"Back to sign in"})]}):l.jsxs(l.Fragment,{children:[a==="login"?"Don't have an account? ":"Already have an account? ",l.jsx("button",{onClick:U,className:"text-blue-600 hover:text-blue-700 font-medium",disabled:u,children:a==="login"?"Sign up":"Sign in"})]})})})]})})},px=(e,t=!0)=>Rn({queryKey:["client-bookings"],queryFn:async()=>{if(!e.isAuthenticated())throw new Error("Not authenticated");return(await e.authenticatedFetch(`${e.getApiBaseUrl()}/api/client/bookings`)).json()},enabled:t&&e.isAuthenticated(),staleTime:2*60*1e3,retry:2}),gx=e=>{const t=zs();return Ho({mutationFn:async r=>{if(!e.isAuthenticated())throw new Error("Not authenticated");return(await e.authenticatedFetch(`${e.getApiBaseUrl()}/api/client/bookings/${r}/cancel`,{method:"PUT"})).json()},onSuccess:()=>{t.invalidateQueries({queryKey:["client-bookings"]})}})},yx=e=>{const t=zs();return Ho({mutationFn:async({bookingId:r,startTime:n,endTime:s})=>{if(!e.isAuthenticated())throw new Error("Not authenticated");return(await e.authenticatedFetch(`${e.getApiBaseUrl()}/api/client/bookings/${r}/reschedule`,{method:"PUT",body:JSON.stringify({startTime:n,endTime:s})})).json()},onSuccess:()=>{t.invalidateQueries({queryKey:["client-bookings"]}),t.invalidateQueries({queryKey:["availability"]})}})},xx=(e,t=!0)=>Rn({queryKey:["client-profile"],queryFn:async()=>{if(!e.isAuthenticated())throw new Error("Not authenticated");return(await e.authenticatedFetch(`${e.getApiBaseUrl()}/api/client/profile`)).json()},enabled:t&&e.isAuthenticated(),staleTime:5*60*1e3,retry:2}),vx=({authService:e,onBack:t,onLogout:r})=>{var A,L;const[n,s]=E.useState("bookings"),[i,a]=E.useState(null),[o,u]=E.useState(null),[c,g]=E.useState(""),[h,y]=E.useState(null),{data:w,isLoading:j,error:v,refetch:b}=px(e),{data:m}=xx(e),d=gx(e),f=yx(e),x=e.getClient(),S=((A=w==null?void 0:w.data)==null?void 0:A.bookings)||[],k=E.useMemo(()=>S.filter(T=>Oh(new Date(T.startTime))&&T.status!=="CANCELLED").sort((T,$)=>new Date(T.startTime).getTime()-new Date($.startTime).getTime()),[S]),O=E.useMemo(()=>S.filter(T=>zy(new Date(T.endTime))||T.status==="CANCELLED").sort((T,$)=>new Date($.startTime).getTime()-new Date(T.startTime).getTime()),[S]),M=async T=>{if(confirm("Are you sure you want to cancel this booking?"))try{(await d.mutateAsync(T)).success&&(b(),a(null))}catch($){console.error("Failed to cancel booking:",$)}},U=T=>{const $=Us(new Date);u(T.id),g(Y($,"yyyy-MM-dd")),y(null)},N=()=>{u(null),g(""),y(null)},P=async T=>{if(!h){alert("Please select a time slot");return}const $=new Date(T.startTime),ee=new Date(T.endTime),vt=Math.round((ee.getTime()-$.getTime())/(1e3*60)),Oe=new Date(h),wt=Ig(Oe,vt);try{const ue=await f.mutateAsync({bookingId:T.id,startTime:Oe.toISOString(),endTime:wt.toISOString()});ue.success?(b(),N()):alert(ue.error||"Failed to reschedule booking")}catch(ue){console.error("Failed to reschedule booking:",ue),alert("Failed to reschedule booking. Please try again.")}},C=E.useMemo(()=>!o||!w||!w.data?null:w.data.bookings.find(T=>T.id===o),[o,w]),R=E.useMemo(()=>{if(!c)return null;const T=new Date(c);return{start:Y(T,"yyyy-MM-dd"),end:Y(T,"yyyy-MM-dd")}},[c]),{data:F,isLoading:Q}=hh((C==null?void 0:C.resourceId)||"",R||{start:"",end:""},(L=C==null?void 0:C.services)==null?void 0:L.map(T=>T.serviceTemplateId),!!(o&&R&&C),o||void 0),W=T=>{switch(T){case"CONFIRMED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"CANCELLED":return"bg-red-100 text-red-800";case"COMPLETED":return"bg-blue-100 text-blue-800";case"NO_SHOW":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},we=T=>Dh(T)?"Today":By(T)?"Tomorrow":Y(T,"MMM d, yyyy");return j?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(An,{size:"lg"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your bookings..."})]})}):v?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(mr,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load bookings"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:v.message}),l.jsx("button",{onClick:()=>b(),className:"mt-3 text-sm text-red-700 underline",children:"Try again"})]})]})})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-800",children:[l.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back to Booking"]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("button",{onClick:()=>s("bookings"),className:`px-4 py-2 text-sm font-medium transition-colors ${n==="bookings"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"My Bookings"}),l.jsxs("button",{onClick:()=>s("profile"),className:`px-4 py-2 text-sm font-medium transition-colors ${n==="profile"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(gl,{className:"w-4 h-4 inline mr-1"}),"Profile"]})]}),l.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 border border-red-200 rounded-lg hover:bg-red-50",children:"Logout"})]})]}),n==="profile"&&l.jsxs("div",{className:"max-w-2xl",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Your Profile"}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),l.jsx("p",{className:"text-base text-gray-900",children:x==null?void 0:x.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),l.jsx("p",{className:"text-base text-gray-900",children:x==null?void 0:x.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),l.jsx("p",{className:"text-base text-gray-900",children:(x==null?void 0:x.phone)||"Not provided"})]}),l.jsx("div",{className:"pt-4 border-t border-gray-200",children:l.jsxs("p",{className:"text-sm text-gray-500",children:["Member since ",x!=null&&x.createdAt?Y(new Date(x.createdAt),"MMM d, yyyy"):"N/A"]})})]})]}),n==="bookings"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[l.jsxs("h2",{className:"text-lg font-semibold text-blue-900",children:["Welcome back, ",x==null?void 0:x.name,"!"]}),l.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Manage your bookings and view your booking history below."})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Upcoming Bookings (",k.length,")"]}),k.length===0?l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[l.jsx(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-600",children:"No upcoming bookings"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Make a new booking to get started"})]}):l.jsx("div",{className:"space-y-3",children:k.map(T=>{var wt;const $=new Date(T.startTime),ee=new Date(T.endTime),vt=Oh($)&&T.status!=="CANCELLED",Oe=o===T.id;return l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:we($)}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${W(T.status)}`,children:T.status})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[l.jsx(Ze,{className:"w-4 h-4 mr-2"}),Y($,"HH:mm")," - ",Y(ee,"HH:mm")]}),((wt=T.metadata)==null?void 0:wt.title)&&l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(oh,{className:"w-4 h-4 mr-2"}),T.metadata.title]}),Oe&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select a new date:"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Array.from({length:30},(ue,Nt)=>{const z=yh(new Date,Nt),ze=Y(z,"yyyy-MM-dd"),Gs=c===ze;return l.jsxs("button",{onClick:()=>{g(ze),y(null)},className:`px-3 py-2 text-sm rounded-lg border transition-colors ${Gs?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-400"}`,children:[l.jsx("div",{className:"font-medium",children:Y(z,"EEE")}),l.jsx("div",{className:"text-xs",children:Y(z,"MMM d")})]},ze)})}),c&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available times:"}),Q?l.jsxs("div",{className:"flex items-center justify-center py-4",children:[l.jsx(Xo,{className:"w-5 h-5 animate-spin text-blue-600"}),l.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Loading available slots..."})]}):F!=null&&F.data&&F.data.length>0?l.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:F.data.map(ue=>{const Nt=new Date(ue.startTime),z=h===ue.startTime;return l.jsx("button",{onClick:()=>y(ue.startTime),disabled:!ue.isAvailable,className:`px-3 py-2 text-sm rounded-lg border transition-colors ${z?"bg-blue-600 text-white border-blue-600":ue.isAvailable?"bg-white text-gray-700 border-gray-300 hover:border-blue-400":"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:Y(Nt,"HH:mm")},ue.startTime)})}):l.jsx("p",{className:"text-sm text-gray-500 py-2",children:"No available slots for this date"}),l.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[l.jsx("button",{onClick:()=>P(T),disabled:!h||f.isPending,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f.isPending?"Saving...":"Confirm Reschedule"}),l.jsx("button",{onClick:N,disabled:f.isPending,className:"px-4 py-2 text-gray-600 text-sm hover:text-gray-800 disabled:opacity-50",children:"Cancel"})]})]})]})]}),vt&&!Oe&&l.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>U(T),disabled:d.isPending||f.isPending,className:"text-blue-600 hover:text-blue-700 disabled:opacity-50",title:"Reschedule booking",children:l.jsx(dg,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>M(T.id),disabled:d.isPending||f.isPending,className:"text-red-600 hover:text-red-700 disabled:opacity-50",title:"Cancel booking",children:d.isPending?l.jsx(Xo,{className:"w-5 h-5 animate-spin"}):l.jsx(Zo,{className:"w-5 h-5"})})]})]})},T.id)})})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Past Bookings (",O.length,")"]}),O.length===0?l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[l.jsx(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-600",children:"No past bookings"})]}):l.jsxs("div",{className:"space-y-3",children:[O.slice(0,5).map(T=>{const $=new Date(T.startTime),ee=new Date(T.endTime);return l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 opacity-75",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h4",{className:"font-medium text-gray-700",children:Y($,"MMM d, yyyy")}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${W(T.status)}`,children:T.status})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(Ze,{className:"w-4 h-4 mr-2"}),Y($,"HH:mm")," - ",Y(ee,"HH:mm")]})]})})},T.id)}),O.length>5&&l.jsxs("p",{className:"text-sm text-gray-500 text-center mt-3",children:["And ",O.length-5," more past booking",O.length-5>1?"s":""]})]})]})]})]})};function nu(e){try{const t=e.split(".");if(t.length!==3)return!0;const r=JSON.parse(atob(t[1]));if(!r.exp)return!0;const n=r.exp*1e3,s=Date.now(),i=30*1e3;return s>=n-i}catch(t){return console.warn("Failed to decode JWT token:",t),!0}}class wx{constructor(t){this.currentAuth=null,this.STORAGE_KEY="booking-widget-client-auth",this.apiBaseUrl=t.replace(/\/$/,""),this.loadAuthFromStorage()}async register(t){try{const r=await fetch(`${this.apiBaseUrl}/api/client/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();return r.ok&&n.success&&n.data&&(this.currentAuth={token:n.data.token,client:n.data.client},this.saveAuthToStorage()),n}catch(r){return console.error("Registration failed:",r),{success:!1,error:r instanceof Error?r.message:"Registration failed"}}}async login(t){try{const r=await fetch(`${this.apiBaseUrl}/api/client/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();return r.ok&&n.success&&n.data&&(this.currentAuth={token:n.data.token,client:n.data.client},this.saveAuthToStorage()),n}catch(r){return console.error("Login failed:",r),{success:!1,error:r instanceof Error?r.message:"Login failed"}}}async forgotPassword(t){try{const r=await fetch(`${this.apiBaseUrl}/api/client/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),n=await r.json();return{success:r.ok&&n.success,message:n.message,error:n.error}}catch(r){return console.error("Forgot password failed:",r),{success:!1,error:r instanceof Error?r.message:"Failed to send reset email"}}}async logout(){if(this.currentAuth)try{await fetch(`${this.apiBaseUrl}/api/client/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${this.currentAuth.token}`,"Content-Type":"application/json"}})}catch(t){console.warn("Logout endpoint failed (non-critical):",t)}finally{this.clearAuth()}}getApiBaseUrl(){return this.apiBaseUrl}getToken(){var t;return((t=this.currentAuth)==null?void 0:t.token)||null}getClient(){var t;return((t=this.currentAuth)==null?void 0:t.client)||null}isAuthenticated(){return!this.currentAuth||!this.currentAuth.token?!1:nu(this.currentAuth.token)?(console.warn("Client token has expired, clearing authentication"),this.clearAuth(),!1):!0}async authenticatedFetch(t,r={}){var i;if(!this.currentAuth)throw new Error("Not authenticated. Please login first.");if(nu(this.currentAuth.token))throw console.warn("Token expired before request, clearing authentication"),this.clearAuth(),new Error("Your session has expired. Please login again.");const n={...r,headers:{...r.headers,Authorization:`Bearer ${this.currentAuth.token}`,"Content-Type":"application/json"}},s=await fetch(t,n);if(s.status===401){console.warn("Received 401, clearing client authentication"),this.clearAuth();try{const a=await s.clone().json();if(a.code==="TOKEN_EXPIRED"||(i=a.error)!=null&&i.includes("expired"))throw new Error("Your session has expired. Please login again.")}catch{}throw new Error("Authentication failed. Please login again.")}return s}async updateProfile(t){try{const r=await this.authenticatedFetch(`${this.apiBaseUrl}/api/client/profile`,{method:"PUT",body:JSON.stringify(t)}),n=await r.json();return r.ok&&n.success&&n.data&&this.currentAuth&&(this.currentAuth.client=n.data.client,this.saveAuthToStorage()),n}catch(r){return console.error("Profile update failed:",r),{success:!1,error:r instanceof Error?r.message:"Profile update failed"}}}async changePassword(t,r){try{return await(await this.authenticatedFetch(`${this.apiBaseUrl}/api/client/profile/password`,{method:"PUT",body:JSON.stringify({currentPassword:t,newPassword:r})})).json()}catch(n){return console.error("Password change failed:",n),{success:!1,error:n instanceof Error?n.message:"Password change failed"}}}saveAuthToStorage(){if(this.currentAuth)try{const t={token:this.currentAuth.token,client:this.currentAuth.client};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){console.warn("Failed to save client auth to localStorage:",t)}}loadAuthFromStorage(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(!t)return;const r=JSON.parse(t);if(r.token&&r.client){if(nu(r.token)){console.warn("Loaded token from storage is expired, clearing"),localStorage.removeItem(this.STORAGE_KEY);return}this.currentAuth={token:r.token,client:r.client}}}catch(t){console.warn("Failed to load client auth from localStorage:",t),localStorage.removeItem(this.STORAGE_KEY)}}clearAuth(){this.currentAuth=null;try{localStorage.removeItem(this.STORAGE_KEY)}catch(t){console.warn("Failed to clear client auth from localStorage:",t)}}}const xl={colors:{primary:"#3b82f6",secondary:"#6366f1",success:"#10b981",warning:"#f59e0b",error:"#ef4444",background:"#ffffff",surface:"#f9fafb",text:{primary:"#111827",secondary:"#6b7280",muted:"#9ca3af"}},spacing:{xs:"0.5rem",sm:"0.75rem",md:"1rem",lg:"1.5rem",xl:"2rem"},borderRadius:"0.75rem",fontFamily:"Inter, system-ui, -apple-system, sans-serif"},Nx={small:"14px",medium:"16px",large:"18px"},jx={none:"0",small:"0.25rem",medium:"0.5rem",large:"0.75rem",full:"9999px"},kx={compact:{xs:"0.25rem",sm:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.5rem"},normal:{xs:"0.5rem",sm:"0.75rem",md:"1rem",lg:"1.5rem",xl:"2rem"},relaxed:{xs:"0.75rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"3rem"}},bx=()=>new $0({defaultOptions:{queries:{retry:2,refetchOnWindowFocus:!1,staleTime:3e4},mutations:{retry:1}}}),Sx=({authToken:e,developerApiKey:t,organisationId:r,resourceId:n,apiBaseUrl:s="/api",theme:i={},className:a,showProducts:o=!0,showPricing:u=!1,maxAdvanceDays:c=30,minAdvanceDays:g=0,onBookingComplete:h,onBookingError:y,onProductClaim:w,onResourceSelect:j})=>{var T,$,ee,vt,Oe,wt,ue,Nt;const[v,b]=E.useState({currentStep:n?"date-time":"resource-select",selectedResource:void 0,selectedDate:void 0,selectedSlot:void 0,formData:void 0,productClaims:[],isLoading:!1,error:void 0}),[m]=E.useState(()=>new wx(s)),[d,f]=E.useState(!1),[x,S]=E.useState(m.isAuthenticated()),{data:k,isLoading:O,error:M}=tg(r,s),U=(($=(T=k==null?void 0:k.config)==null?void 0:T.features)==null?void 0:$.requireClientAuth)??!1;E.useEffect(()=>{U&&!x&&v.currentStep!=="manage-bookings"&&v.currentStep==="details"&&f(!0)},[U,x,v.currentStep]),E.useEffect(()=>{if(!x)return;const z=()=>{!m.isAuthenticated()&&x&&(console.warn("Token expired, logging out user"),S(!1),v.currentStep==="details"&&f(!0))};z();const ze=setInterval(z,60*1e3);return()=>clearInterval(ze)},[x,m,v.currentStep]),E.useEffect(()=>{if(v.error){const z=v.error.toLowerCase();(z.includes("session has expired")||z.includes("please login again")||z.includes("authentication failed"))&&(console.warn("Booking failed due to expired session, prompting re-login"),S(!1),f(!0))}},[v.error]);const N=E.useMemo(()=>{var Gs;const z=(Gs=k==null?void 0:k.config)==null?void 0:Gs.theme;let ze={...xl};return z&&(ze={colors:{primary:z.primaryColor,secondary:z.secondaryColor,success:z.successColor,warning:z.warningColor,error:z.errorColor,background:z.backgroundColor,surface:z.surfaceColor,text:{primary:z.textPrimaryColor,secondary:z.textSecondaryColor,muted:z.textMutedColor}},spacing:kx[z.spacing]||xl.spacing,borderRadius:jx[z.borderRadius]||xl.borderRadius,fontFamily:z.fontFamily||xl.fontFamily,fontSize:Nx[z.fontSize]||"16px"}),i&&(ze={...ze,...i,colors:{...ze.colors,...i.colors},spacing:{...ze.spacing,...i.spacing}}),ze},[i,k]),P=E.useMemo(()=>({"--booking-color-primary":N.colors.primary,"--booking-color-secondary":N.colors.secondary,"--booking-color-success":N.colors.success,"--booking-color-warning":N.colors.warning,"--booking-color-error":N.colors.error,"--booking-color-background":N.colors.background,"--booking-color-surface":N.colors.surface,"--booking-color-text-primary":N.colors.text.primary,"--booking-color-text-secondary":N.colors.text.secondary,"--booking-color-text-muted":N.colors.text.muted,"--booking-spacing-xs":N.spacing.xs,"--booking-spacing-sm":N.spacing.sm,"--booking-spacing-md":N.spacing.md,"--booking-spacing-lg":N.spacing.lg,"--booking-spacing-xl":N.spacing.xl,"--booking-border-radius":N.borderRadius,"--booking-font-family":N.fontFamily,"--booking-font-size":N.fontSize||"16px"}),[N]),C=E.useMemo(()=>({token:e||m.getToken()||void 0,developerApiKey:t,organisationId:r,apiBaseUrl:s}),[e,t,r,s,x]),R=!e&&!t,F=!r,Q=E.useMemo(()=>{var ze;const z=(ze=k==null?void 0:k.config)==null?void 0:ze.features;return{showProducts:o??(z==null?void 0:z.showProductClaiming)??!0,showPricing:u??(z==null?void 0:z.showPricing)??!1,maxAdvanceDays:c??(z==null?void 0:z.maxAdvanceDays)??30,minAdvanceDays:g??(z==null?void 0:z.minAdvanceDays)??0,requirePhoneNumber:(z==null?void 0:z.requirePhoneNumber)??!1,showAttendeeCount:(z==null?void 0:z.showAttendeeCount)??!0,showSpecialRequirements:(z==null?void 0:z.showSpecialRequirements)??!0,showBookingTitle:(z==null?void 0:z.showBookingTitle)??!0}},[k,o,u,c,g]),W=E.useMemo(()=>({showProducts:Q.showProducts,showPricing:Q.showPricing,maxAdvanceDays:Q.maxAdvanceDays,minAdvanceDays:Q.minAdvanceDays,requirePhoneNumber:Q.requirePhoneNumber,showAttendeeCount:Q.showAttendeeCount,showSpecialRequirements:Q.showSpecialRequirements,showBookingTitle:Q.showBookingTitle,resourceId:n,onBookingComplete:h,onBookingError:y,onProductClaim:w,onResourceSelect:j}),[Q,n,h,y,w,j]),we=()=>{f(!1),S(!0)},A=async()=>{await m.logout(),S(!1),b(z=>({...z,currentStep:n?"date-time":"resource-select"}))},L=m.getClient();return l.jsxs(rh.Provider,{value:C,children:[l.jsx(mx,{authService:m,isOpen:d,onClose:()=>f(!1),onSuccess:we,isRequired:U,initialMode:"login"}),l.jsxs("div",{className:ph("booking-widget","w-full","max-w-7xl","mx-auto","shadow-lg","overflow-hidden","border",a),style:{...P,backgroundColor:N.colors.background,borderColor:N.colors.text.muted+"40",borderRadius:N.borderRadius,fontSize:N.fontSize||"16px",fontFamily:N.fontFamily},children:[l.jsxs("div",{className:"booking-widget-header border-b",style:{backgroundColor:N.colors.surface,borderColor:N.colors.text.muted+"40",padding:`${N.spacing.md} ${N.spacing.lg}`},children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center",style:{gap:N.spacing.md},children:[((vt=(ee=k==null?void 0:k.config)==null?void 0:ee.branding)==null?void 0:vt.logoUrl)&&l.jsx("img",{src:k.config.branding.logoUrl,alt:k.config.branding.companyName||"Logo",className:"h-10 sm:h-12 w-auto object-contain",onError:z=>{z.target.style.display="none"}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold",style:{color:N.colors.text.primary,marginBottom:N.spacing.xs},children:((wt=(Oe=k==null?void 0:k.config)==null?void 0:Oe.branding)==null?void 0:wt.companyName)||(v.currentStep==="manage-bookings"?"Manage Your Bookings":"Book Your Session")}),l.jsx("p",{className:"text-xs sm:text-sm",style:{color:N.colors.text.secondary},children:v.currentStep==="manage-bookings"?"View and manage your existing bookings":"Select your preferred time and complete your booking"})]})]}),l.jsx("div",{className:"flex items-center flex-wrap",style:{gap:N.spacing.sm},children:x?l.jsxs(l.Fragment,{children:[v.currentStep!=="manage-bookings"&&l.jsxs("button",{onClick:()=>b(z=>({...z,currentStep:"manage-bookings"})),className:"flex items-center text-xs sm:text-sm font-medium border transition-all duration-200 hover:shadow-sm",style:{color:N.colors.text.primary,backgroundColor:N.colors.background,borderColor:N.colors.text.muted+"60",borderRadius:N.borderRadius,padding:`${N.spacing.sm} ${N.spacing.md}`},children:[l.jsx(lg,{className:"w-4 h-4",style:{marginRight:N.spacing.xs}}),"My Bookings"]}),v.currentStep==="manage-bookings"&&l.jsxs("button",{onClick:()=>b(z=>({...z,currentStep:n?"date-time":"resource-select",selectedResource:void 0,selectedDate:void 0,selectedSlot:void 0,formData:void 0,productClaims:[],error:void 0})),className:"flex items-center text-xs sm:text-sm font-medium transition-all duration-200 shadow-sm hover:shadow-md",style:{color:"#ffffff",backgroundColor:N.colors.primary,borderRadius:N.borderRadius,padding:`${N.spacing.sm} ${N.spacing.md}`},children:[l.jsx(uh,{className:"w-4 h-4",style:{marginRight:N.spacing.xs}}),"New Booking"]})]}):l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center text-xs sm:text-sm font-medium border transition-all duration-200 hover:shadow-sm",style:{color:N.colors.text.primary,backgroundColor:N.colors.background,borderColor:N.colors.text.muted+"60",borderRadius:N.borderRadius,padding:`${N.spacing.sm} ${N.spacing.md}`},children:[l.jsx(gl,{className:"w-4 h-4",style:{marginRight:N.spacing.xs}}),"Sign In"]})})]}),v.error&&l.jsx("div",{className:"text-sm text-red-700 bg-red-50 border border-red-200",style:{marginTop:N.spacing.md,padding:N.spacing.md,borderRadius:N.borderRadius},children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-red-500 flex-shrink-0",style:{width:"1rem",height:"1rem",borderRadius:"9999px",marginRight:N.spacing.sm}}),l.jsx("div",{children:v.error})]})})]}),l.jsx("div",{className:"booking-widget-content min-h-[600px]",style:{backgroundColor:N.colors.surface},children:R?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Authentication Required"}),l.jsx("p",{className:"text-gray-600",children:"Please provide either an authToken or developerApiKey to use this widget."})]})}):F?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configuration Required"}),l.jsx("p",{className:"text-gray-600",children:"Organisation ID is required to load booking options."})]})}):O?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx(An,{size:"xl"}),l.jsx("p",{className:"text-gray-600 mt-4 text-lg",children:"Loading widget configuration..."})]})}):v.currentStep==="manage-bookings"?x?l.jsx(vx,{authService:m,onBack:()=>b(z=>({...z,currentStep:n?"date-time":"resource-select"})),onLogout:A}):l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx(gl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sign In Required"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in to view your bookings"}),l.jsx("button",{onClick:()=>f(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Sign In"})]})}):v.isLoading?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx(An,{size:"xl"}),l.jsx("p",{className:"text-gray-600 mt-4 text-lg",children:"Loading your booking options..."})]})}):l.jsx(dx,{widgetState:v,setWidgetState:b,config:W,clientData:L?{name:L.name,email:L.email,phone:L.phone}:null})}),l.jsx("div",{className:"booking-widget-footer border-t",style:{backgroundColor:N.colors.background,borderColor:N.colors.text.muted+"40",padding:`${N.spacing.sm} ${N.spacing.md}`},children:l.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:l.jsx("div",{className:"flex flex-col",style:{gap:N.spacing.xs},children:l.jsxs("div",{className:"flex items-center flex-wrap",style:{gap:N.spacing.sm},children:[l.jsx("span",{className:"text-xs sm:text-sm",style:{color:N.colors.text.muted},children:(Nt=(ue=k==null?void 0:k.config)==null?void 0:ue.branding)!=null&&Nt.showBranding?`Powered by ${k.config.branding.companyName||"Booking System"}`:"Powered by Booking System"}),x&&L&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{width:"0.25rem",height:"0.25rem",borderRadius:"9999px",backgroundColor:N.colors.text.muted}}),l.jsxs("span",{className:"text-xs sm:text-sm",style:{color:N.colors.text.muted},children:["Signed in as ",L.name]})]})]})})})})]})]})},Cx=e=>{const[t]=E.useState(()=>bx()),r=n=>{var s;console.error("BookingWidget Error:",n),(s=e.onBookingError)==null||s.call(e,n.message)};return l.jsx(hx,{onError:r,children:l.jsx(U0,{client:t,children:l.jsx(Sx,{...e})})})},Rh={init:function(e){const{organisationId:t,resourceId:r,developerApiKey:n,authToken:s,apiBaseUrl:i=window.location.origin,containerId:a="booking-widget-container",theme:o,showProducts:u,showPricing:c,maxAdvanceDays:g,minAdvanceDays:h,onBookingComplete:y,onBookingError:w,onProductClaim:j,onResourceSelect:v}=e;if(!t){console.error("[BookingWidget] organisationId is required");return}if(!n&&!s){console.error("[BookingWidget] Either developerApiKey or authToken is required");return}const b=document.getElementById(a);if(!b){console.error(`[BookingWidget] Container element with id "${a}" not found`);return}b.innerHTML="";try{Rf(b).render(l.jsx(Cl.StrictMode,{children:l.jsx(Cx,{organisationId:t,resourceId:r,developerApiKey:n,authToken:s,apiBaseUrl:i,theme:o,showProducts:u,showPricing:c,maxAdvanceDays:g,minAdvanceDays:h,onBookingComplete:y,onBookingError:w,onProductClaim:j,onResourceSelect:v})})),console.log("[BookingWidget] Widget initialized successfully")}catch(m){console.error("[BookingWidget] Error initializing widget:",m)}},version:"1.0.0"};return typeof window<"u"&&(window.BookingWidget=Rh),Rh}();
